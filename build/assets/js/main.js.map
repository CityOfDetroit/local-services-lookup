{"version":3,"file":"assets/js/main.js","mappings":"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","sources":["webpack://local-services-lookup/./src/components/Geocoder.js","webpack://local-services-lookup/./src/components/NavigationTools.js","webpack://local-services-lookup/./src/components/Display.js","webpack://local-services-lookup/./src/components/DataLoader.js","webpack://local-services-lookup/./src/components/Map.js","webpack://local-services-lookup/./src/components/MyHomeInfo.js","webpack://local-services-lookup/./src/index.js"],"sourcesContent":["'use strict';\nexport default class Geocoder extends HTMLElement {\n\n    static get observedAttributes() {\n        return ['form', 'parcelStatus', 'user'];\n    }\n\n    constructor() {\n        // Always call super first in constructor\n        super();\n\n        // Set Attributes\n        this.form = null;\n        this.parcelStatus = 'Invalid';\n        this.user = null;\n        this.styles = document.createElement('style');\n        this.styles.textContent = `\n            @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@100;700&display=swap')\n            #geocoder {width: 100%}\n            input {width: calc(100% - 2em); padding: 1em; border:.1em solid #e6e6e6; font-size: 1em;}\n        `;\n\n        // Create a shadow root\n        const shadow = this.attachShadow({ mode: 'open' });\n\n        // Create geocoder section\n        shadow.appendChild(this.styles);\n        const geocoderWraper = document.createElement('article');\n        geocoderWraper.id = 'geocoder';\n        let form = document.createElement('form');\n        let label = document.createElement('label');\n        label.style.fontFamily = 'Montserrat, sans-serif';\n        label.style.fontWeight = 'bold';\n        let input = document.createElement('input');\n        let suggestions = document.createElement('ul');\n        let list = document.createElement('datalist');\n        let icon = document.createElement('i');\n        form.addEventListener('submit', (ev) => {\n            this.submit(ev, this);\n        });\n        icon.className = 'fas fa-map-marker-alt';\n        // Get label text\n        const app = document.getElementsByTagName('my-home-info');\n        label.innerText = \"Property Address:\";\n        try {\n            if (app[0].getAttribute('data-geocoder-label')){\n                if(app[0].getAttribute('data-geocoder-label') != ''){\n                    label.innerText = app[0].getAttribute('data-geocoder-label');\n                }\n            }\n        } catch (error) {\n            \n        }\n        label.setAttribute(\"for\", \"geocoder-input\");\n        input.type = 'text';\n        input.setAttribute('list', 'addresses-list');\n        input.placeholder = 'Enter address';\n        input.setAttribute('id', 'geocoder-input');\n        input.setAttribute('autocomplete', 'off');\n        input.addEventListener('keyup', (ev) => {\n            this.inputChange(ev, this);\n        });\n        list.setAttribute('id', 'addresses-list');\n\n\n        form.appendChild(label);\n        form.appendChild(input);\n        form.appendChild(icon);\n        // form.appendChild(suggestions);\n        form.appendChild(list);\n        this.form = form;\n        geocoderWraper.appendChild(form);\n        shadow.appendChild(geocoderWraper);\n    }\n\n    supplementGeocoder(address, geocoder, type) {\n        const app = document.getElementsByTagName('my-home-info');\n        let tempAddr = address.split(\",\");\n        tempAddr = tempAddr[0];\n        tempAddr = tempAddr.split(\" \");\n        let newTempAddr = '';\n        let size = tempAddr.length;\n        tempAddr.forEach(function (item, index) {\n            newTempAddr += item;\n            ((index < size) && (index + 1) !== size) ? newTempAddr += '+' : 0;\n        });\n        let url = `https://opengis.detroitmi.gov/opengis/rest/services/BaseUnits/BaseUnitGeocoder/GeocodeServer/findAddressCandidates?Address=&Address2=&Address3=&Neighborhood=&City=&Subregion=&Region=&Postal=&PostalExt=&CountryCode=&SingleLine=${newTempAddr}&outFields=*&maxLocations=&matchOutOfRange=true&langCode=&locationType=&sourceCountry=&category=&location=&distance=&searchExtent=&outSR=&magicKey=&f=json`;\n\n        try {\n            fetch(url)\n                .then((resp) => resp.json()) // Transform the data into json\n                .then(function (data) {\n                    // console.log(data);\n                    if (type === 'suggestions') {\n                        data.candidates.forEach((item) => {\n                            let sugg = document.createElement('option');\n                            if (item.attributes.parcel_id === '') {\n                                sugg.value = item.address;\n                                sugg.setAttribute('data-parsel', 'no-parcel');\n                            } else {\n                                sugg.value = `${item.address} RECOMMENDED`;\n                                sugg.setAttribute('data-parsel', item.attributes.parcel_id);\n                            }\n\n                            sugg.onclick = (ev) => {\n                                geocoder.selectSuggestion(ev, geocoder);\n                            }\n                            geocoder.form.childNodes[3].appendChild(sugg);\n                        });\n                    } else {\n                        if (data.candidates.length) {\n                            let url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/City_of_Detroit_Boundary/FeatureServer/0/query?where=&objectIds=&time=&geometry=${data.candidates[0].location.x}%2C+${data.candidates[0].location.y}&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=4326&returnGeometry=true&returnCentroid=false&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=geojson&token=`;\n                            try {\n                                fetch(url)\n                                    .then((resp) => resp.json()) // Transform the data into json\n                                    .then(function (city) {\n                                        if (city.features.length) {\n                                            let parcel = null;\n                                            let location;\n                                            data.candidates.forEach((item) => {\n                                                if (item.attributes.parcel_id !== '') {\n                                                    if (geocoder.checkParcelValid(item.attributes.parcel_id)) {\n                                                        parcel = item;\n                                                    }\n                                                }\n                                            });\n                                            (parcel == null) ? location = data.candidates[0].location : location = null;\n                                            if (parcel === null) {\n                                                geocoder.parcelStatus = 'Invalid';\n                                                geocoder.needGeocode(address, geocoder, location);\n                                                geocoder.clearSuggestions(geocoder);\n                                                app[0].setAttribute('data-parcel-id', JSON.stringify(data.candidates[0]));\n                                                // geocoder.controller.panel.loaderToggle(true);\n                                                // geocoder.controller.panel.clearPanel();\n                                                // geocoder.controller.dataManager.buildData(data.candidates[0], geocoder.controller);\n                                            } else {\n                                                geocoder.parcelStatus = 'Valid';\n                                                geocoder.needGeocode(address, geocoder, location);\n                                                geocoder.clearSuggestions(geocoder);\n                                                app[0].setAttribute('data-parcel-id', JSON.stringify(parcel));\n                                                // geocoder.controller.panel.loaderToggle(true);\n                                                // geocoder.controller.panel.clearPanel();\n                                                // geocoder.controller.dataManager.buildData(parcel, geocoder.controller);\n                                            }\n                                        } else {\n                                            geocoder.parcelStatus = 'Invalid';\n                                            geocoder.needGeocode(address, geocoder, location);\n                                            geocoder.clearSuggestions(geocoder);\n                                            app[0].setAttribute('data-app-state', 'error');\n                                        }\n                                    });\n                            } catch (error) {\n                                geocoder.parcelStatus = 'Invalid';\n                                geocoder.needGeocode(address, geocoder, location);\n                                geocoder.clearSuggestions(geocoder);\n                                app[0].setAttribute('data-app-state', 'error');\n                            }\n                        } else {\n                            geocoder.parcelStatus = 'Invalid';\n                            geocoder.needGeocode(address, geocoder, location);\n                            geocoder.clearSuggestions(geocoder);\n                            app[0].setAttribute('data-app-state', 'error');\n                        }\n                    }\n                });\n        } catch (error) {\n            geocoder.parcelStatus = 'Invalid';\n            geocoder.needGeocode(address, geocoder, location);\n            geocoder.clearSuggestions(geocoder);\n            app[0].setAttribute('data-app-state', 'error');\n        }\n    }\n\n    selectSuggestion(ev, geocoder) {\n        let selection = null;\n        if (ev.target.tagName === 'SPAN') {\n            selection = ev.target.parentNode;\n        } else {\n            selection = ev.target;\n        }\n        if (selection.attributes[0].value === 'no-parcel') {\n            geocoder.clearSuggestions(geocoder);\n            geocoder.supplementGeocoder(selection.innerText, geocoder, 'submit');\n        } else {\n            geocoder.supplementGeocoder(selection.innerText, geocoder, 'submit');\n        }\n    }\n\n    inputChange(ev, geocoder) {\n        switch (ev.key) {\n            case 'Enter':\n                (ev.target.value != '' && ev.target.value != undefined) ? geocoder.supplementGeocoder(ev.target.value, geocoder, 'submit') : 0;\n                break;\n\n            case 'ArrowDown':\n\n                break;\n\n            case 'ArrowUp':\n\n                break;\n\n            case 'ArrowRight':\n\n                break;\n\n            case 'ArrowLeft':\n\n                break;\n\n            case undefined:\n                (ev.target.value != '' && ev.target.value != undefined) ? geocoder.supplementGeocoder(ev.target.value, geocoder, 'submit') : 0;\n                break;\n\n            default:\n                geocoder.clearSuggestions(geocoder);\n                geocoder.supplementGeocoder(ev.target.value, geocoder, 'suggestions');\n                break;\n        }\n    }\n\n    clearSuggestions(geocoder) {\n        while (geocoder.form.childNodes[3].firstChild) {\n            geocoder.form.childNodes[3].removeChild(geocoder.form.childNodes[3].firstChild);\n        }\n    }\n\n    needGeocode(address, geocoder, location) {\n        fetch('https://us-central1-local-services-loopkup.cloudfunctions.net/getToken')\n            .then((resp) => resp.json()) // Transform the data into json\n            .then(function (data) {\n                let cleanAddress = address.split(' RECOMMENDED')[0];\n                let params = [\n                    {\n                        \"attributes\": {\n                            \"valid_parcel_status\": geocoder.parcelStatus,\n                            \"user_input\": cleanAddress\n                        },\n                        \"geometry\": {\n                            \"x\": 0,\n                            \"y\": 0\n                        }\n                    }\n                ];\n                if (location != null) {\n                    params[0].geometry.x = location.x;\n                    params[0].geometry.y = location.y;\n                }\n                let request = new Request(`https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/addressvalidator/FeatureServer/0/addFeatures?token=${data.access_token}&features=${encodeURIComponent(JSON.stringify(params))}&f=json`, {\n                    method: 'POST',\n                    body: '',\n                    headers: new Headers(),\n                    mode: 'cors',\n                    cache: 'default'\n                });\n                fetch(request)\n                    .then((res) => {\n                        // console.log(res);\n                    });\n            });\n    }\n\n    checkParcelValid(parcel){\n        return /\\d/.test(parcel);\n    }\n\n    submit(ev, geocoder) {\n        ev.preventDefault();\n        geocoder.supplementGeocoder(ev.target['0'].value, geocoder, 'submit');\n    }\n}","export default class NavigationTools extends HTMLElement {\n\n    constructor() {\n        // Always call super first in constructor\n        super();\n\n        // Create a shadow root\n        const shadow = this.attachShadow({ mode: 'open' });\n\n        // Creating display styles\n        this.navToolsStyle = document.createElement('style');\n        this.navToolsStyle.textContent = `\n            #nav-tools-wrapper { display: flex; flex-direction: column;}\n            button.clear { font-size: 1.25em; width: 2.5em; height: 2.5em; background-color: #FEB70D; cursor: pointer; border: none; }\n            button.nav { width: 3.75em; height: 3.75em; border: none; cursor: pointer;background: #fff; }\n            button.nav:hover { background-color: #e6e6e6; transition: all 500ms cubic-bezier(.64,.09,.08,1); }\n            button.nav.active { background-color: #9fd5b3; }\n            button.nav img { width: 100%; }\n        `;\n\n        // Start loading display content\n        this.loadNavTools(this);\n    }\n\n    clearDisplay(display) {\n        const shadow = display.shadowRoot;\n        while (shadow.firstChild) {\n            shadow.removeChild(shadow.firstChild);\n        }\n    }\n\n    loadNavTools(navTools) {\n        const app = document.getElementsByTagName('my-home-info');\n        const appStatus = app[0].getAttribute('data-app-state');\n        const appMode = app[0].getAttribute('data-app-mode');\n        const initialSets = app[0].getAttribute('data-inital-sets');\n        const initalMapStatus = app[0].getAttribute('data-initial-map-available');\n        const shadow = navTools.shadowRoot;\n        shadow.appendChild(navTools.navToolsStyle);\n        const navToolsWrapper = document.createElement('section');\n        navToolsWrapper.id = 'nav-tools-wrapper';\n        navToolsWrapper.setAttribute('role', 'navigation');\n        navToolsWrapper.setAttribute('aria-label', 'Data Navigation');\n        const clearResultsBtn = document.createElement('cod-button');\n        clearResultsBtn.addEventListener('click', (ev) => {\n            if (app[0].getAttribute('data-app-mode') == 'my-home-info') {\n                app[0].setAttribute('data-app-state', 'welcome-screen');\n                app[0].setAttribute('data-active-sets', 'assessors-data,neighborhood,recycling,rental-data,rental-cert,demo-status,blight-data,permit-data,DWSDBackupProtection');\n            } else {\n                app[0].setAttribute('data-app-state', 'active-screen');\n                app[0].setAttribute('data-active-sets', initialSets);\n            }\n            if(initalMapStatus == 'true'){\n                app[0].setAttribute('data-map-available', 'true');\n            }else{\n                app[0].setAttribute('data-map-available', 'false');\n            }\n            app[0].setAttribute('data-parcel-id', 'none');\n            app[0].setAttribute('data-api-stored-datasets', '{}');\n            app[0].setAttribute('data-api-active-datasets', 'none');\n            app[0].setAttribute('data-active-section', 'property');\n        });\n        clearResultsBtn.setAttribute('data-primary', true);\n        clearResultsBtn.setAttribute('data-label', 'x');\n        clearResultsBtn.setAttribute('data-size', 'lg');\n        clearResultsBtn.setAttribute('data-hover', false);\n        clearResultsBtn.setAttribute('data-extra-classes', 'fw-bold');\n        clearResultsBtn.setAttribute('data-background-color', 'warning');\n        clearResultsBtn.setAttribute('data-img', '');\n        clearResultsBtn.setAttribute('data-img-alt', '');\n        clearResultsBtn.setAttribute('data-shape', 'square');\n        clearResultsBtn.setAttribute('data-icon', '');\n        navToolsWrapper.appendChild(clearResultsBtn);\n\n        if (appMode == 'my-home-info' && appStatus != 'error') {\n            const propertyDataBtn = document.createElement('cod-button');\n            propertyDataBtn.setAttribute('data-label', '');\n            propertyDataBtn.setAttribute('data-size', 'lg');\n            propertyDataBtn.setAttribute('data-img', 'https://detroitmi.gov/sites/detroitmi.localhost/files/2023-01/home.png');\n            propertyDataBtn.setAttribute('data-img-alt', 'about this property');\n            propertyDataBtn.setAttribute('data-shape', 'square');\n            propertyDataBtn.setAttribute('data-nav-value', 'about this property');\n            propertyDataBtn.setAttribute('data-icon', '');\n            if (app[0].getAttribute('data-active-section') == 'about this property') {\n                propertyDataBtn.setAttribute('data-background-color', 'success');\n                propertyDataBtn.setAttribute('data-primary', true);\n            } else {\n                propertyDataBtn.setAttribute('data-background-color', 'secondary');\n                propertyDataBtn.setAttribute('data-primary', false);\n                propertyDataBtn.addEventListener('click', (ev) => {\n                    if (app[0].getAttribute('data-api-active-datasets') != 'none') {\n                        let storedData = JSON.parse(app[0].getAttribute('data-api-stored-datasets'));\n                        let activeData = JSON.parse(app[0].getAttribute('data-api-active-datasets'));\n                        for (const key in activeData) {\n                            if (!(key in storedData)) {\n                                storedData[key] = activeData[key];\n                            }\n                        }\n                        app[0].setAttribute('data-api-stored-datasets', JSON.stringify(storedData));\n                    }\n                    app[0].setAttribute('data-api-active-datasets', 'none');\n                    app[0].setAttribute('data-active-sets', 'assessors-data,neighborhood,recycling,rental-data,rental-cert,demo-status,blight-data,permit-data,DWSDBackupProtection');\n                    app[0].setAttribute('data-map-available', 'false');\n                    app[0].setAttribute('data-active-section', 'about this property');\n                    app[0].setAttribute('data-app-state', 'loading-screen');\n                })\n            }\n            navToolsWrapper.appendChild(propertyDataBtn);\n\n            const govDataBtn = document.createElement('cod-button');\n            govDataBtn.setAttribute('data-label', '');\n            govDataBtn.setAttribute('data-size', 'lg');\n            govDataBtn.setAttribute('data-img', 'https://detroitmi.gov/sites/detroitmi.localhost/files/2023-01/government.png');\n            govDataBtn.setAttribute('data-img-alt', 'government officials');\n            govDataBtn.setAttribute('data-shape', 'square');\n            govDataBtn.setAttribute('data-nav-value', 'government officials');\n            govDataBtn.setAttribute('data-icon', '');\n            if (app[0].getAttribute('data-active-section') == 'government officials') {\n                govDataBtn.setAttribute('data-background-color', 'success');\n                govDataBtn.setAttribute('data-primary', true);\n            } else {\n                govDataBtn.setAttribute('data-background-color', 'secondary');\n                govDataBtn.setAttribute('data-primary', false);\n                govDataBtn.addEventListener('click', (ev) => {\n                    if (app[0].getAttribute('data-api-active-datasets') != 'none') {\n                        let storedData = JSON.parse(app[0].getAttribute('data-api-stored-datasets'));\n                        let activeData = JSON.parse(app[0].getAttribute('data-api-active-datasets'));\n                        for (const key in activeData) {\n                            if (!(key in storedData)) {\n                                storedData[key] = activeData[key];\n                            }\n                        }\n                        app[0].setAttribute('data-api-stored-datasets', JSON.stringify(storedData));\n                    }\n                    app[0].setAttribute('data-api-active-datasets', 'none');\n                    app[0].setAttribute('data-active-sets', 'council,council-members,bop-members,district-managers,business-liaison,district-inspectors,npo');\n                    app[0].setAttribute('data-map-available', 'false');\n                    app[0].setAttribute('data-active-section', 'government officials');\n                    app[0].setAttribute('data-app-state', 'loading-screen');\n                });\n            }\n            navToolsWrapper.appendChild(govDataBtn);\n\n            const zoneDataBtn = document.createElement('cod-button');\n            zoneDataBtn.setAttribute('data-label', '');\n            zoneDataBtn.setAttribute('data-size', 'lg');\n            zoneDataBtn.setAttribute('data-img', 'https://detroitmi.gov/sites/detroitmi.localhost/files/2023-01/zone.png');\n            zoneDataBtn.setAttribute('data-img-alt', 'special areas and zones');\n            zoneDataBtn.setAttribute('data-shape', 'square');\n            zoneDataBtn.setAttribute('data-nav-value', 'special areas and zones');\n            zoneDataBtn.setAttribute('data-icon', '');\n            if (app[0].getAttribute('data-active-section') == 'special areas and zones') {\n                zoneDataBtn.setAttribute('data-background-color', 'success');\n                zoneDataBtn.setAttribute('data-primary', true);\n            } else {\n                zoneDataBtn.setAttribute('data-background-color', 'secondary');\n                zoneDataBtn.setAttribute('data-primary', false);\n                zoneDataBtn.addEventListener('click', (ev) => {\n                    if (app[0].getAttribute('data-api-active-datasets') != 'none') {\n                        let storedData = JSON.parse(app[0].getAttribute('data-api-stored-datasets'));\n                        let activeData = JSON.parse(app[0].getAttribute('data-api-active-datasets'));\n                        for (const key in activeData) {\n                            if (!(key in storedData)) {\n                                storedData[key] = activeData[key];\n                            }\n                        }\n                        app[0].setAttribute('data-api-stored-datasets', JSON.stringify(storedData));\n                    }\n                    app[0].setAttribute('data-api-active-datasets', 'none');\n                    app[0].setAttribute('data-active-sets', 'nez,nrsa,historicDistrict');\n                    app[0].setAttribute('data-map-available', 'false');\n                    app[0].setAttribute('data-active-section', 'special areas and zones');\n                    app[0].setAttribute('data-app-state', 'loading-screen');\n                });\n            }\n            navToolsWrapper.appendChild(zoneDataBtn);\n\n            const nearDataBtn = document.createElement('cod-button');\n            nearDataBtn.setAttribute('data-label', '');\n            nearDataBtn.setAttribute('data-size', 'lg');\n            nearDataBtn.setAttribute('data-img', 'https://detroitmi.gov/sites/detroitmi.localhost/files/2023-01/nearby.png');\n            nearDataBtn.setAttribute('data-img-alt', 'things nearby');\n            nearDataBtn.setAttribute('data-shape', 'square');\n            nearDataBtn.setAttribute('data-nav-value', 'things nearby');\n            nearDataBtn.setAttribute('data-icon', '');\n            if (app[0].getAttribute('data-active-section') == 'things nearby') {\n                nearDataBtn.setAttribute('data-background-color', 'success');\n                nearDataBtn.setAttribute('data-primary', true);\n            } else {\n                nearDataBtn.setAttribute('data-background-color', 'secondary');\n                nearDataBtn.setAttribute('data-primary', false);\n                nearDataBtn.addEventListener('click', (ev) => {\n                    if (app[0].getAttribute('data-api-active-datasets') != 'none') {\n                        let storedData = JSON.parse(app[0].getAttribute('data-api-stored-datasets'));\n                        let activeData = JSON.parse(app[0].getAttribute('data-api-active-datasets'));\n                        for (const key in activeData) {\n                            if (!(key in storedData)) {\n                                storedData[key] = activeData[key];\n                            }\n                        }\n                        app[0].setAttribute('data-api-stored-datasets', JSON.stringify(storedData));\n                    }\n                    app[0].setAttribute('data-api-active-datasets', 'none');\n                    app[0].setAttribute('data-active-sets', 'schools,demos-data,stabilization-data,improve-det');\n                    app[0].setAttribute('data-active-section', 'things nearby');\n                    app[0].setAttribute('data-map-available', 'true');\n                    app[0].setAttribute('data-app-state', 'loading-screen');\n                });\n            }\n            navToolsWrapper.appendChild(nearDataBtn);\n\n            const printBtn = document.createElement('cod-button');\n            printBtn.setAttribute('data-label', '');\n            printBtn.setAttribute('data-size', 'lg');\n            printBtn.setAttribute('data-img', 'https://detroitmi.gov/sites/detroitmi.localhost/files/2023-01/print.png');\n            printBtn.setAttribute('data-img-alt', 'print');\n            printBtn.setAttribute('data-shape', 'square');\n            printBtn.setAttribute('data-nav-value', 'print');\n            printBtn.setAttribute('data-icon', '');\n            if (app[0].getAttribute('data-active-section') == 'print') {\n                printBtn.setAttribute('data-background-color', 'success');\n                printBtn.setAttribute('data-primary', true);\n            } else {\n                printBtn.setAttribute('data-background-color', 'secondary');\n                printBtn.setAttribute('data-primary', false);\n                printBtn.addEventListener('click', (ev) => {\n                    if(ev.target.getAttribute('data-nav-value')){\n                        app[0].setAttribute('data-app-state', 'print');\n                    }\n                });\n            }\n            navToolsWrapper.appendChild(printBtn);\n        }\n\n        shadow.appendChild(navToolsWrapper);\n    }\n\n}\n","'use strict';\nimport Geocoder from './Geocoder';\nimport NavigationTools from './NavigationTools';\ncustomElements.define('app-geocoder', Geocoder);\ncustomElements.define('app-nav-tools', NavigationTools);\nexport default class Display extends HTMLElement {\n  static get observedAttributes() {\n    return ['data-display-type', 'data-pagination'];\n  }\n\n  constructor() {\n    // Always call super first in constructor\n    super();\n\n    // Create a shadow root\n    const shadow = this.attachShadow({ mode: 'open' });\n\n    // Creating images\n    this.neighborhoodImage = document.createElement('img');\n    this.neighborhoodImage.src = 'https://detroitmi.gov/sites/detroitmi.localhost/files/2023-01/neighborhood.png'; //neighborhoodImage;\n    this.neighborhoodImage.setAttribute('alt', '');\n\n    // Creating display styles\n    this.welcomeStyle = document.createElement('style');\n    this.welcomeStyle.textContent = `\n          @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@100;700&display=swap')\n          #display-wrapper { display: flex; padding: 1em; flex-wrap: wrap; font-family: 'Montserrat', sans-serif;}\n          #display-wrapper #welcome-img-wrapper { display: flex; }\n          #display-wrapper #welcome-img-wrapper img { height: 10em; margin: auto }\n          #display-wrapper p { text-align: center; font-family: 'Montserrat', sans-serif;}\n          #display-wrapper button { padding: 1em 3em;  background-color: #004445; color: #fff; border: none; cursor: pointer; margin: auto; width: 100%;}\n          p.display-title { font-weight: bold; font-size: 1.25em; }\n          app-geocoder { width: 100%}\n          .btn-group { display:flex; width: 100%; }\n          @media all and (min-width: 551px) {\n            #display-wrapper{ display: flex; }\n            #display-wrapper #welcome-img-wrapper img { width: 15em; height: auto; }\n            #display-wrapper article { flex: 1; padding: 1em; }\n          }\n        `;\n\n    this.resultsStyle = document.createElement('style');\n    this.resultsStyle.textContent = `\n          .results-container{ display: flex; }\n          #data-results { background-color: #e6e6e6; padding: 1em; height: 40em; overflow-y: auto; }\n          .data-title { font-weight: bold; border-left: solid .2em #FEB70D; padding: .5em; margin: 0 0 1em 0; font-family: 'Montserrat', sans-serif;}\n          .result-address {background-color: #fff; border: solid 0.1em #e6e6e6; padding: 1.04em 0.6em; font-family: 'Montserrat', sans-serif;}\n          .data-block-title { padding: .5em; background-color: #FEB70D; margin: 0; font-weight: bold; font-family: 'Montserrat', sans-serif; display: flex;}\n          .data-block-title span { flex: 1; margin: auto; }\n          .data-block-content { padding: .5em; margin-bottom: .5em; background-color: #fff; }\n          .data-block-content p { margin: 0; font-family: 'Montserrat', sans-serif;}\n          .data-block-content hr { border-top: 1px dotted;}\n          .dataset-results {flex: 1;}\n          .critical-text { color: #CF3234; }\n          .error-result { padding: 1em; }\n          .data-block-title button { background-color: #fff; border: none; padding: 0.25em 0.5em; box-shadow: 1px 1px 3px 0px rgb(0 0 0 / 75%);}\n          .data-block-title button img { height: 1em; }\n          @media all and (min-width: 551px) {\n            #data-results { height: auto; }\n            #data-blocks { column-count: 2; }\n            #data-blocks .data-block {     -webkit-column-break-inside: avoid; page-break-inside: avoid; break-inside: avoid; }\n          }\n\n          @media all and (min-width: 1024px) {\n            #data-results { height: auto; }\n            #data-blocks { column-count: 3; }\n            #data-blocks .data-block {     -webkit-column-break-inside: avoid; page-break-inside: avoid; break-inside: avoid; }\n          }\n        `;\n\n    // Start loading display content\n    this.loadDisplay(this);\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    // console.log(`Display - attribute: ${name}, old: ${oldValue}, new: ${newValue}`);\n    if (newValue == 'results') {\n      this.clearDisplay(this);\n    }\n    if (name == 'data-pagination'){\n      this.clearDisplay(this);\n    }\n    this.loadDisplay(this);\n  }\n\n  clearDisplay(display) {\n    const shadow = display.shadowRoot;\n    while (shadow.firstChild) {\n      shadow.removeChild(shadow.firstChild);\n    }\n  }\n\n  formatDate(value) {\n    const month = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n    const tempDate = new Date(value);\n    return `${month[tempDate.getMonth()]} ${tempDate.getDate()}, ${tempDate.getFullYear()}`;\n  }\n\n  buildCouncil(value) {\n    let siteURL = window.location.hostname;\n    let dataParsing = { title: \"Council District\", content: null };\n    dataParsing.content = `\n        <p><strong>District Number:</strong> ${value.data.district}</p>\n        <p><strong>Council Member:</strong> <a href=\"http://${siteURL}${value.data.url}\" target=\"_blank\">${value.data.name}</a></p>\n        <p><strong>Council Member Phone:</strong> ${value.data.phone}</p>\n      `;\n    return dataParsing;\n  }\n\n  buildBOP(value) {\n    let siteURL = window.location.hostname;\n    let dataParsing = { title: \"Police Commissioner\", content: null };\n    dataParsing.content = `\n        <p><strong>Commissioner:</strong> <a href=\"http://${siteURL}${value.data.url}\" target=\"_blank\">${value.data.name}</a></p>\n        <p><strong>Commissioner's Phone:</strong> ${value.data.phone}</p>\n        <p><strong>Commissioner's Email:</strong> ${value.data.email}</p>\n      `;\n    return dataParsing;\n  }\n\n  buildDistrictManagers(value) {\n    let dataParsing = { title: \"District Managers\", content: null };\n    if (value && Object.keys(value.data).length != 0 && value.data.constructor === Object && value.data.detail !== \"Not found.\") {\n      dataParsing.content = `\n          <p><strong>District Manager:</strong> <a href=\"${value.data.manager.url}\" target=\"_blank\">${value.data.manager.name}</a></p>\n          <p><strong>Manager Phone:</strong> ${value.data.manager.phone}</p>\n          <p><strong>Deputy Manager:</strong> <a href=\"${value.data.deputy.url}\" target=\"_blank\">${value.data.deputy.name}</a></p>\n          <p><strong>Deputy Manager Phone:</strong> ${value.data.deputy.phone}</p>\n          `;\n    } else {\n      dataParsing.content = `\n            <p>No data found</p>\n          `;\n    }\n    return dataParsing;\n  }\n\n  buildBusinessLiaison(value) {\n    let dataParsing = { title: \"Business Liaison\", content: null };\n    if (value && Object.keys(value.data).length != 0 && value.data.constructor === Object && value.data.detail !== \"Not found.\") {\n      dataParsing.content = `\n          <p><strong>Liaison:</strong> ${value.data.name}</p>\n          <p><strong>Liaison Phone:</strong> ${value.data.email}</p>\n          `;\n    } else {\n      dataParsing.content = `\n            <p>No data found</p>\n          `;\n    }\n    return dataParsing;\n  }\n\n  buildInspector(value) {\n    let dataParsing = { title: \"Enforcement Inspector\", content: null };\n    if (value && Object.keys(value.data).length != 0 && value.data.constructor === Object && value.data.detail !== \"Not found.\") {\n      dataParsing.content = `\n          <p><strong>Inspector:</strong> ${value.data.name}</p>\n          <p><strong>Inspector Phone:</strong> ${value.data.phone}</p>\n          `;\n    } else {\n      dataParsing.content = `\n            <p>No data found</p>\n          `;\n    }\n    return dataParsing;\n  }\n\n  buildNeighborhood(value) {\n    let dataParsing = { title: \"Neighborhood\", content: null };\n    if (value && Object.keys(value.data).length != 0 && value.data.constructor === Object && value.data.detail !== \"Not found.\") {\n      dataParsing.content = `\n            <p><strong>Neighborhood name:</strong> ${value.data.attributes.neighborhood_name}</p>\n          `;\n    } else {\n      dataParsing.content = `\n            <p>No neighborhood found</p>\n          `;\n    }\n    return dataParsing;\n  }\n\n  buildDWSDBackupProtection(values) {\n    let validNeighborhoods = ['Aviation Sub', 'Barton-McFarland', 'Chadsey Condon', 'Cornerstone Village', 'East English Village', 'Morningside', 'Jefferson Chalmers', 'Warrendale', 'Victoria Park', 'Moross-Morang', 'Garden View'];\n    let dataParsing = { title: \"DWSD Basement Backup Protection Program\", content: null };\n    if (values && values.data.attributes.neighborhood_name) {\n      if (validNeighborhoods.includes(values.data.attributes.neighborhood_name)) {\n        dataParsing.content = `\n        <p>This property qualifies for the DWSD Basement Backup Protection Program.</p>\n        <br>\n        <a href=\"https://app.smartsheet.com/b/form/509cb1e905a74948bce7b0135da53277?Property%20Street%20Address=${values.data.address}&Property%20City=Detroit&Property%20Zip%20Code=${values.data.attributes.Postal}&Neighborhood=${values.data.attributes.neighborhood_name}\" target=\"_blank\"><cod-button data-label=\"Apply Now\" data-background-color=\"primary\" data-size=\"xsmall\" data-icon=\"\" data-primary=\"true\" data-img-alt=\"\"></cod-button></a>\n        `;\n      }else{\n        dataParsing.content = `\n        <p>This property doesn't qualify for the Basement Backup Protection Program. To learn more please <a href=\"https://detroitmi.gov/departments/water-and-sewerage-department/dwsd-resources/basement-flooding-protection\">visit our page.</a></p>\n        `;\n      }\n    } else {\n      dataParsing.content = `\n        <p>This property doesn't qualify for the Basement Backup Protection Program. To learn more please <a href=\"https://detroitmi.gov/departments/water-and-sewerage-department/dwsd-resources/basement-flooding-protection\">visit our page.</a></p>\n        `;\n    }\n    return dataParsing;\n  }\n\n  buildHRDFlooding(values) {\n    let validNeighborhoods = ['Cornerstone Village', 'Morningside', 'Chandler Park', 'Fox Creek', 'Riverbend', 'Morningside', 'West End ', 'Midwest', 'ChadseyCondon', 'Claytown', 'North Corktown', 'Michigan Martin', 'Aviation Sub', 'Garden View', 'PlymouthI96', 'PlymouthHubell', 'Paveway', 'We Care Community', 'Fiskhorn', 'Joy-Schaefer', 'Warrendale', 'Warren Ave Community', 'Barton-McFarland'];\n    let dataParsing = { title: \"CDBG Disaster Recovery Basement Backup Protection Program\", content: null };\n    if (values && values.data.attributes.neighborhood_name) {\n      if (validNeighborhoods.includes(values.data.attributes.neighborhood_name)) {\n        dataParsing.content = `\n        <p>This property qualifies for the CDBG Disaster Recovery Basement Backup Protection Program.</p>\n        <br>\n        <cod-button data-label=\"Apply Now\" data-background-color=\"primary\" data-size=\"xsmall\" data-icon=\"\" data-primary=\"true\" data-img-alt=\"\" data-link=\"https://app.smartsheet.com/b/form/3dab24dc95bf469b8ac4c27669536507\"></cod-button>\n        `;\n      }else{\n        dataParsing.content = `\n        <p>This property doesnt qualify for the CDBG Disaster Recovery Basement Backup Protection Program. To learn more please <a href=\"https://detroitmi.gov/departments/housing-and-revitalization-department/disaster-recovery\">visit our page.</a></p>\n        `;\n      }\n    } else {\n      dataParsing.content = `\n        <p>This property doesnt qualify for the CDBG Disaster Recovery Basement Backup Protection Program. To learn more please <a href=\"https://detroitmi.gov/departments/housing-and-revitalization-department/disaster-recovery\">visit our page.</a></p>\n        `;\n    }\n    return dataParsing;\n  }\n\n  buildHistoricDistrict(value, display) {\n    let dataParsing = { title: \"NEZ Homestead Zone\", content: null };\n    if (Object.keys(value.data).length != 0 && value.data.constructor === Object && value.data.features.length > 0) {\n      dataParsing.content = `\n          <p><strong>NAME:</strong> ${value.data.features[0].attributes.Name}</p>\n          <p><strong>DESIGNATED ON:</strong> ${display.formatDate(value.data.features[0].attributes.Year_Enacted).format('MMM DD, YYYY')}</p>\n          `;\n    } else {\n      dataParsing.content = `\n          <p>This property is not in a historic district.</p>\n          `;\n    }\n    return dataParsing;\n  }\n\n  buildNEZ(nez) {\n    let dataParsing = { title: \"NEZ Homestead Zone\", content: null };\n    if (Object.keys(nez.data).length != 0 && nez.data.constructor === Object && nez.data.features.length > 0) {\n      dataParsing.content = `\n          <p><strong>Name:</strong> ${nez.data.features[0].attributes.RNNAME}</p>\n          <p><strong>ID:</strong> ${nez.data.features[0].attributes.RID}</p>\n          <p class=\"noprint\"><a href=\"https://data.detroitmi.gov/datasets/proposed-nez-homestead-2021/explore\" target=\"_blank\">View Map</a></p>\n          `;\n    } else {\n      dataParsing.content = `\n          <p>This property is not on a NEZ Homestead zone.</p>\n          <p class=\"noprint\"><a href=\"https://data.detroitmi.gov/datasets/nez-h-districts/explore\" target=\"_blank\">View Map</a></p>\n          `;\n    }\n    return dataParsing;\n  }\n\n  buildNRSA(value) {\n    let dataParsing = { title: \"Neighborhood Revitalization Strategy Areas (NRSA)\", content: null };\n    if (Object.keys(value.data).length != 0 && value.data.constructor === Object && value.data.features.length > 0) {\n      dataParsing.content = `\n          <p><strong>Name:</strong> ${value.data.features[0].attributes.Name}</p>\n          `;\n    } else {\n      dataParsing.content = `\n          <p>This property is not on a NRSA.</p>\n          `;\n    }\n    return dataParsing;\n  }\n\n  buildNPO(value) {\n    let dataParsing = { title: \"Police\", content: null };\n    if (value && value.data.features.length) {\n      dataParsing.content = `\n          <p><strong>PRECINCT</strong></p>\n          <p><strong>Number:</strong> ${value.data.features[0].attributes.precinct}</p>\n          <p><strong>Address:</strong> ${value.data.features[0].attributes.precinct_location}</p>\n          <br>\n          <p><strong>NEIGHBORHOOD POLICE OFFICER (NPO)</strong></p>\n          <p><strong>Name:</strong> ${value.data.features[0].attributes.police_officer}</p>\n          <p><strong>Phone:</strong> ${value.data.features[0].attributes.phone_number}</p>\n          <p><strong>Email:</strong> ${value.data.features[0].attributes.email}</p>\n          `;\n    } else {\n      dataParsing.content = `<p>No police info found</p>`;\n    }\n    return dataParsing;\n  }\n\n  checkRecyclingStatus(data) {\n    try {\n      if (data.next_pickups['yard waste']) {\n        let yardStart = null;\n        let yardEnd = null;\n        data.details.forEach((item) => {\n          if (item.type == 'start-date' && item.service == 'yard waste') {\n            if (item.normalDay != null) {\n              yardStart = item.normalDay;\n            } else {\n              yardStart = item.newDay;\n            }\n          }\n          if (item.type == 'end-date' && item.service == 'yard waste') {\n            if (item.normalDay != null) {\n              yardEnd = item.normalDay;\n            } else {\n              yardEnd = item.newDay;\n            }\n          }\n        });\n        if (moment(data.next_pickups['yard waste'].next_pickup).isBetween(yardStart, yardEnd)) {\n          return true;\n        } else {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    } catch (error) {\n      return false;\n    }\n  }\n\n  buildRecycling(value, display) {\n    let dataParsing = { title: \"Trash & Recycling\", content: null };\n    if (value && Object.keys(value.data).length != 0 && value.data.constructor === Object) {\n      let contractorInfo = {\n        name: null,\n        url: null,\n        phone: null\n      };\n      if (value.data.next_pickups.trash.contractor === 'GFL') {\n        contractorInfo.name = 'GFL';\n        contractorInfo.url = 'http://gflusa.com/residential/detroit/';\n        contractorInfo.phone = '(844) 464-3587';\n      } else {\n        contractorInfo.name = 'WM';\n        contractorInfo.url = 'http://www.advanceddisposal.com/mi/detroit/detroit-residential-collection';\n        contractorInfo.phone = ' (844) 233-8764';\n      }\n      dataParsing.content = `\n            <p><strong>Provider:</strong> <a href=\"${contractorInfo.url}\" target=\"_blank\">${contractorInfo.name}</a> ${contractorInfo.phone}</p>\n            <p><strong>Next Trash:</strong> ${display.formatDate(value.data.next_pickups.trash.next_pickup)}</p>\n            <p><strong>Next Recycling:</strong> ${display.formatDate(value.data.next_pickups.recycling.next_pickup)}</p>\n            <p><strong>Next Bulk:</strong> ${display.formatDate(value.data.next_pickups.bulk.next_pickup)}</p>\n            ${(display.checkRecyclingStatus(value.data)) ? tempHTML += `<p><strong>Next Yard:</strong> ${display.formatDate(value.data.next_pickups['yard waste'].next_pickup)}</p>` : ``}\n          `;\n    } else {\n      dataParsing.content = `<p>No data found</p>`;\n    }\n    return dataParsing;\n  }\n\n  buildAssessors(value) {\n    let dataParsing = { title: \"Assessor's Data\", content: null };\n    if (value && Object.keys(value.data).length != 0 && value.data.constructor === Object && value.data.detail !== \"Not found.\") {\n      let property = {\n        year: null,\n        value: null,\n        floor: null,\n        buildingClass: null\n      }\n      dataParsing.content = `\n            <p><strong>Owner's address:</strong> ${value.data.ownerstreetaddr}</p>\n            <p><strong>Owner's city:</strong> ${value.data.ownercity}</p>\n            <p><strong>Owner's state:</strong> ${value.data.ownerstate}</p>\n            <p><strong>Owner's zip:</strong> ${value.data.ownerzip}</p>\n          `;\n      if (value.data.resb_bldgclass === 0) {\n        property.year = value.data.cib_yearbuilt;\n        property.value = value.data.cib_value;\n        property.floor = value.data.cib_yearbuilt;\n        property.buildingClass = value.data.cib_yearbuilt;\n      } else {\n        property.year = value.data.resb_yearbuilt;\n        property.value = value.data.resb_value;\n        property.floor = value.data.resb_floorarea;\n        property.buildingClass = value.data.resb_bldgclass;\n      }\n      dataParsing.content += `\n            <p><strong>Parcel number:</strong> ${value.data.pnum}</p>\n            <p><strong>Year build:</strong> ${property.year}</p>\n            <p><strong>Calculated value:</strong> $${property.value.toLocaleString()}</p>\n            <p><strong>Floor area:</strong> ${property.floor.toLocaleString()} SQFT</p>\n            <p><strong>Building class:</strong> ${property.buildingClass}</p>\n          `;\n    } else {\n      dataParsing.content = `<p>No data found</p>`;\n    }\n    return dataParsing;\n  }\n\n  buildRental(value, display) {\n    let app = document.getElementsByTagName('my-home-info');\n    let apiDataSets = JSON.parse(app[0].getAttribute('data-api-active-datasets'));\n    let dataParsing = { title: \"Rental Enforcement Status\", content: null };\n    if ((value && value.data.features.length) || (apiDataSets['rental-cert-data'] && apiDataSets['rental-cert-data'].data.features.length)) {\n      dataParsing.content = `\n            <p><strong>Registered:</strong> ${value.data.features.length ? `${display.formatDate(value.data.features[0].attributes.date_status)}` : `Not registered`}</p>\n            <p><strong>Certified:</strong> ${apiDataSets['rental-cert-data'].data.features.length ? `${display.formatDate(apiDataSets['rental-cert-data'].data.features[0].attributes.issued_date)}` : `Not certified`}</p>\n          `;\n    } else {\n      dataParsing.content = `\n          <p><strong>Registered:</strong> Not registered</p>\n          <p><strong>Certified:</strong> Not certified</p>\n          `;\n    }\n    return dataParsing;\n  }\n\n  buildFireEscrow(value) {\n    let tempHTML = '';\n    if (value && value.data.features.length) {\n      tempHTML += `\n            <article class=\"info-section\">\n            <span>FIRE ESCROW</span>\n            <div>\n              <p><strong>STATUS:</strong> Fire Escrow found</p>\n              <p><a href=\"https://detroitmi.gov/taxonomy/term/8501\"><button>Start Process</button></a></p>\n            </div>\n            </article>`;\n    } else {\n      tempHTML += `\n          <article class=\"info-section\">\n            <span>FIRE ESCROW</span>\n            <div>\n              <p><strong>STATUS:</strong> Fire Escrow not found</p>\n            </div>\n            </article>`;\n    }\n    return tempHTML;\n  }\n\n  buildBlight(value, display) {\n    let dataParsing = { title: \"Blight Tickets\", content: null };\n    if (value && value.data.features.length) {\n      dataParsing.content = `\n            <p><strong>Ticket ID:</strong> ${value.attributes.ticket_number}</p>\n            <p><strong>Fine Amount:</strong> $${value.attributes.fine_amount}</p>\n            <p><strong>Agency name:</strong> ${value.attributes.agency_name}</p>\n            <p><strong>Disposition:</strong> ${value.attributes.disposition}</p>\n            <p><strong>Description:</strong> ${value.attributes.violation_description}</p>\n            <p><strong>Hearing Date:</strong> ${display.formatDate(value.attributes.hearing_date)}</p>\n            <p><strong>Hearing Time:</strong> ${value.attributes.hearing_time}</p>\n          `;\n    } else {\n      dataParsing.content = `<p>No blight tickets found</p>`;\n    }\n    return dataParsing;\n  }\n\n  buildSchools(value, display) {\n    let dataParsing = { title: \"Schools\", content: null };\n    if (value && value.data.features.length) {\n      value.data.features.forEach(function (value, index) {\n        if (index == 0) {\n          dataParsing.content = `\n              <p><strong>Name:</strong> ${value.properties.EntityOfficialName}</p>\n              <p><strong>EntityActualGrades:</strong> ${value.properties.EntityActualGrades}</p>\n              <p><strong>Type:</strong> ${value.properties.EntityTypeName}</p>\n              <p><strong>Address:</strong> ${value.properties.EntityPhysicalStreet}</p>\n              <hr>\n              `;\n        } else {\n          dataParsing.content += `\n              <p><strong>Name:</strong> ${value.properties.EntityOfficialName}</p>\n              <p><strong>EntityActualGrades:</strong> ${value.properties.EntityActualGrades}</p>\n              <p><strong>Type:</strong> ${value.properties.EntityTypeName}</p>\n              <p><strong>Address:</strong> ${value.properties.EntityPhysicalStreet}</p>\n              <hr>\n              `;\n        }\n      });\n    } else {\n      dataParsing.content = `<p>No schools nearby.</p>`;\n    }\n    return dataParsing;\n  }\n\n  buildPermit(value, display) {\n    let dataParsing = { title: \"Building Permits\", content: null };\n    if (value && value.data.features.length) {\n      dataParsing.content = `\n          <p><strong>PERMIT NUMBER:</strong> ${value.attributes.record_id}</p>\n          <p><strong>PERMIT TYPE:</strong> ${value.attributes.permit_type}</p>\n          <p><strong>PERMIT BUILDING TYPE:</strong> ${value.attributes.permit_type}</p>\n          <p><strong>PERMIT STATUS:</strong> ${value.attributes.status}</p>\n          <p><strong>PERMIT ISSUED:</strong> ${display.formatDate(value.attributes.issued_date)}</p>\n          <p><strong>PERMIT DESCRIPTION:</strong> ${value.attributes.description_of_work}</p>\n          `;\n    } else {\n      dataParsing.content = `<p>No building permits found</p>`;\n    }\n    return dataParsing;\n  }\n\n  buildDemoStatus(value, display) {\n    let app = document.getElementsByTagName('my-home-info');\n    let parcelData = JSON.parse(app[0].getAttribute('data-parcel-id'));\n    let tempAddress = parcelData.address.replace(' ', '%2520');\n    tempAddress = tempAddress.replace(',', '%252C');\n    let dataParsing = { title: \"Demolition Status\", content: null };\n    if (value && value.data.features.length) {\n      dataParsing.content = `\n            <p class=\"critical-text\"><strong>WARNIG!</strong></p>\n            <p>THIS PROPERTY IS SCHEDULED FOR DEMOLITION</p> \n            ${(value.data.features[0].attributes.demolish_by_date == null) ? `<p><strong>Date to be determined</strong></p>` : `<p><strong>${display.formatDate(value.attributes.demolish_by_date)}</stron></p>`}\n            <br>\n            <p><a href=\"https://detroitmi.maps.arcgis.com/apps/instant/nearby/index.html?appid=41ba8dd946d842b9ba632ecc0a5d2556&sliderDistance=1&find=${tempAddress}\" target=\"_blank\"><cod-button data-label=\"Expand your demo search\" data-background-color=\"primary\" data-icon=\"\" data-size=\"xsmall\" data-primary=\"true\" data-img-alt=\"\"></cod-button></a></p>\n          `;\n    } else {\n      dataParsing.content = `\n          <p>This property is not on the demolition list</p>\n          <br>\n          <p><a href=\"https://detroitmi.maps.arcgis.com/apps/instant/nearby/index.html?appid=41ba8dd946d842b9ba632ecc0a5d2556&sliderDistance=1&find=${tempAddress}\" target=\"_blank\"><cod-button data-label=\"Expand your demo search\" data-background-color=\"primary\" data-icon=\"\" data-size=\"xsmall\" data-primary=\"true\" data-img-alt=\"\"></cod-button></a></p>`;\n    }\n    return dataParsing;\n  }\n\n  buildDemosNear(value, display) {\n    let dataParsing = { title: \"Demolitions Nearby\", content: null };\n    if (value && value.data.features.length) {\n      value.data.features.forEach(function (value, index) {\n        if (index == 0) {\n          dataParsing.content = `\n              <p><strong>Address:</strong> ${value.properties.address}</p>\n              <p><strong>Commercial:</strong> ${value.properties.commercial_building}</p>\n              <p><strong>Price:</strong> $${parseInt(value.properties.price).toLocaleString()}</p>\n              <p><strong>Parcel:</strong> ${value.properties.parcel_id}</p>\n              <p><strong>Contractor:</strong> ${value.properties.contractor_name}</p>\n              <p><strong>Council District:</strong> ${value.properties.council_district}</p>\n              <p><strong>Neighborhood:</strong> ${value.properties.neighborhood}</p>\n              ${(value.properties.demolish_by_date == undefined || value.properties.demolish_by_date == null) ? `<p><p><strong>Expected Date:</strong> Date to be determined</p>` : `<p><strong>Expected Date:</strong>${display.formatDate(value.properties.demolish_by_date)}</strong></p>`}\n              <hr>\n              `;\n        } else {\n          dataParsing.content += `\n              <p><strong>Address:</strong> ${value.properties.address}</p>\n              <p><strong>Commercial:</strong> ${value.properties.commercial_building}</p>\n              <p><strong>Price:</strong> $${parseInt(value.properties.price).toLocaleString()}</p>\n              <p><strong>Parcel:</strong> ${value.properties.parcel_id}</p>\n              <p><strong>Contractor:</strong> ${value.properties.contractor_name}</p>\n              <p><strong>Council District:</strong> ${value.properties.council_district}</p>\n              <p><strong>Neighborhood:</strong> ${value.properties.neighborhood}</p>\n              ${(value.properties.demolish_by_date == undefined || value.properties.demolish_by_date == null) ? `<p><p><strong>Expected Date:</strong> Date to be determined</p>` : `<p><strong>Expected Date:</strong>${display.formatDate(value.properties.demolish_by_date)}</strong></p>`}\n              <hr>\n              `;\n        }\n      });\n\n    } else {\n      dataParsing.content = `<p>No demolitions are happening nearby.</p>`;\n    }\n    return dataParsing;\n  }\n\n  buildStabilizationsNear(value, display) {\n    let dataParsing = { title: \"Stabilizations Nearby\", content: null };\n    if (value && value.data.features.length) {\n      value.data.features.forEach(function (value, index) {\n\n        if (index == 0) {\n          dataParsing.content = `\n              <p><strong>Address:</strong> ${value.properties.address}</p>\n              <p><strong>Parcel:</strong> ${value.properties.parcel_id}</p>\n              <p><strong>Council District:</strong> ${value.properties.council_district}</p>\n              <p><strong>Neighborhood:</strong> ${value.properties.neighborhood}</p>\n              <p><strong>Status:</strong> ${value.properties.rehab_status}</p>\n              <hr>\n              `;\n        } else {\n          dataParsing.content += `\n          <p><strong>Address:</strong> ${value.properties.address}</p>\n          <p><strong>Parcel:</strong> ${value.properties.parcel_id}</p>\n          <p><strong>Council District:</strong> ${value.properties.council_district}</p>\n          <p><strong>Neighborhood:</strong> ${value.properties.neighborhood}</p>\n          <p><strong>Status:</strong> ${value.properties.rehab_status}</p>\n              <hr>\n              `;\n        }\n      });\n\n    } else {\n      dataParsing.content = `<p>No stabilizations are happening nearby.</p>`;\n    }\n    return dataParsing;\n  }\n\n  buildImproveDet(value, display) {\n    let dataParsing = { title: \"Improve Detroit Issues Nearby\", content: null };\n    if (value && value.data.features.length) {\n      value.data.features.forEach(function (value, index) {\n        if (index == 0) {\n          dataParsing.content = `\n              <p><strong>ID:</strong> <a href=\"${value.properties.web_url}\" target=\"_blank\">${value.properties.id}</a></p>\n              <p><strong>Type:</strong> ${value.properties.request_type_title}</p>\n              <p><strong>Status:</strong> ${value.properties.status}</p>\n              <p><strong>Reported on:</strong> ${display.formatDate(value.properties.created_at)}</p>\n              <hr>\n              `;\n        } else {\n          dataParsing.content += `\n              <p><strong>ID:</strong> <a href=\"${value.properties.web_url}\" target=\"_blank\">${value.properties.id}</a></p>\n              <p><strong>Type:</strong> ${value.properties.request_type_title}</p>\n              <p><strong>Status:</strong> ${value.properties.status}</p>\n              <p><strong>Reported on:</strong> ${display.formatDate(value.properties.created_at)}</p>\n              <hr>\n              `;\n        }\n      });\n\n    } else {\n      dataParsing.content = `<p>No active issues nearby.</p>`;\n    }\n    return dataParsing;\n  }\n\n  selectDataBlockType(display, value) {\n    switch (value.id) {\n      case 'council-members':\n        try {\n          return display.buildCouncil(value);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'bop-members':\n        try {\n          return display.buildBOP(value);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'district-managers':\n        try {\n          return display.buildDistrictManagers(value);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'business-liaison':\n        try {\n          return display.buildBusinessLiaison(value);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'district-inspectors':\n        try {\n          return display.buildInspector(value);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'neighborhood':\n        try {\n          return display.buildNeighborhood(value);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'nez':\n        try {\n          return display.buildNEZ(value);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'nrsa':\n        try {\n          return display.buildNRSA(value);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'assessors-data':\n        try {\n          return display.buildAssessors(value);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'permit-data':\n        try {\n          return display.buildPermit(value, display);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'rental-data':\n        try {\n          return display.buildRental(value, display);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'blight-data':\n        try {\n          return display.buildBlight(value, display);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'demos-data':\n        try {\n          return display.buildDemosNear(value, display);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'stabilization-data':\n        try {\n          return display.buildStabilizationsNear(value, display);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'demo-status':\n        try {\n          return display.buildDemoStatus(value);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'npo':\n        try {\n          return display.buildNPO(value);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'improve-det':\n        try {\n          return display.buildImproveDet(value, display);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'schools':\n        try {\n          return display.buildSchools(value, display);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'recycling':\n        try {\n          return display.buildRecycling(value, display);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'historicDistrict':\n        try {\n          return display.buildHistoricDistrict(value);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'fireEscrow':\n        try {\n          return display.buildFireEscrow(value);\n        } catch (error) {\n          // console.log(error);\n          return '';\n        }\n        break;\n\n      case 'DWSDBackupProtection':\n        try {\n          return display.buildDWSDBackupProtection(value);\n        } catch (error) {\n          return '';\n        }\n        break;\n\n      case 'HRDFlooding':\n        try {\n          return display.buildHRDFlooding(value);\n        } catch (error) {\n          return '';\n        }\n        break;\n\n      default:\n        return '';\n        break;\n    }\n  }\n\n  setDatasetPagination(display, dataset){\n    if(display.hasAttribute('data-pagination')){\n      let paginations = JSON.parse(display.getAttribute('data-pagination'));\n      if(paginations[dataset.id]){\n        let paginationObj = {start: paginations[dataset.id].start};\n        if(dataset.data.features.length <= (paginations[dataset.id].end + 3)){\n          paginationObj.end = dataset.data.features.length;\n          paginationObj.more = false;\n        }else{\n          paginationObj.end = paginations[dataset.id].end + 3;\n          paginationObj.more = true;\n        }\n        return paginationObj;\n      }else{\n        let paginationObj = {start: 0, end: 3, more: true};\n        if(dataset.data.features){\n          if(dataset.data.features.length <= 3){\n            paginationObj.end = dataset.data.features.length;\n            paginationObj.more = false;\n          }\n        }else{\n          paginationObj.start = null;\n          paginationObj.more = false;\n        }\n        return paginationObj;\n      }\n    }else{\n      let paginationObj = {start: 0, end: 3, more: true};\n      if(dataset.data.features){\n        if(dataset.data.features.length <= 3){\n          paginationObj.end = dataset.data.features.length;\n          paginationObj.more = false;\n        }\n      }else{\n        paginationObj.start = null;\n        paginationObj.more = false;\n      }\n      return paginationObj;\n    }\n  }\n\n  printInfo(display) {\n    let divContents = display.buildDataSection(display);\n    let a = window.open('', '', 'height=500, width=500');\n    a.document.write('<html>');\n    a.document.write('<head><style>@media print {.noprint { visibility: hidden;} p.data-block-title{border-bottom: 1px solid;} .data-block-title button { display: none; } body { column-count: 2;} .data-block {     -webkit-column-break-inside: avoid; page-break-inside: avoid; break-inside: avoid; } }</style></head>');\n    a.document.write('<body >');\n    a.document.write(divContents.children[1].innerHTML);\n    a.document.write('</body>');\n    a.document.close();\n    a.print();\n  }\n\n  buildDataBlock(display, dataSet) {\n    const app = document.getElementsByTagName('my-home-info');\n    const mapAvailable = app[0].getAttribute('data-map-available');\n    const dataBlock = document.createElement('article');\n    dataBlock.className = 'data-block';\n    let pagination = display.setDatasetPagination(display, dataSet);\n    let splitDataset = JSON.parse(JSON.stringify(dataSet));\n    if(pagination.start !== null){\n      splitDataset.data.features = dataSet.data.features.slice(pagination.start, pagination.end);\n    }\n    let datasetValues = display.selectDataBlockType(display, splitDataset);\n    if (datasetValues == undefined || datasetValues.content == null) {\n      return null;\n    } else {\n      const dataBlockTitle = document.createElement('p');\n      dataBlockTitle.className = 'data-block-title';\n      const dataBlockContent = document.createElement('article');\n      dataBlockContent.className = 'data-block-content';\n      dataBlockContent.innerHTML = datasetValues.content;\n      if (mapAvailable == 'true') {\n        const text = document.createElement('span');\n        text.innerText = datasetValues.title;\n        const mapButton = document.createElement('cod-button');\n        mapButton.setAttribute('data-map-active-data', dataSet.id);\n        mapButton.setAttribute('data-label', 'View Map');\n        mapButton.setAttribute('data-size', 'xsmall');\n        mapButton.setAttribute('data-icon', '');\n        mapButton.setAttribute('data-img', 'https://detroitmi.gov/sites/detroitmi.localhost/files/2023-02/map.png');\n        mapButton.setAttribute('data-img-alt', 'map');\n        mapButton.setAttribute('data-shape', '');\n        mapButton.setAttribute('data-hover', false);\n        mapButton.setAttribute('data-extra-classes', 'fw-bold');\n        mapButton.setAttribute('data-background-color', 'light');\n        mapButton.setAttribute('data-primary', true);\n        mapButton.addEventListener('click', (ev) => {\n          if(ev.target.getAttribute('data-map-active-data')){\n            app[0].setAttribute('data-map-active-data', ev.target.getAttribute('data-map-active-data'));\n            app[0].setAttribute('data-app-state', 'map');\n          }\n        });\n        dataBlockTitle.appendChild(text);\n        dataBlockTitle.appendChild(mapButton);\n      } else {\n        dataBlockTitle.innerText = datasetValues.title;\n      }\n      dataBlock.appendChild(dataBlockTitle);\n      dataBlock.appendChild(dataBlockContent);\n      if(pagination.more){\n        let loadMoreBtn = document.createElement('cod-button');\n        loadMoreBtn.setAttribute('data-pagination-id', dataSet.id);\n        loadMoreBtn.setAttribute('data-pagination', JSON.stringify(pagination));\n        loadMoreBtn.setAttribute('data-label', 'Load More +');\n        loadMoreBtn.setAttribute('data-size', 'xsmall');\n        loadMoreBtn.setAttribute('data-icon', '');\n        loadMoreBtn.setAttribute('data-img', '');\n        loadMoreBtn.setAttribute('data-img-alt', '');\n        loadMoreBtn.setAttribute('data-shape', '');\n        loadMoreBtn.setAttribute('data-hover', false);\n        loadMoreBtn.setAttribute('data-extra-classes', 'fw-bold');\n        loadMoreBtn.setAttribute('data-background-color', 'primary');\n        loadMoreBtn.setAttribute('data-primary', false);\n        loadMoreBtn.addEventListener('click', (ev) => {\n          if(ev.target.getAttribute('data-pagination')){\n            let loadMoreSpinner = document.createElement('cod-spinner');\n            loadMoreSpinner.setAttribute('data-type', 'border');\n            loadMoreSpinner.setAttribute('data-background-color', 'primary');\n            loadMoreSpinner.setAttribute('data-size', 'sm');\n            let paginations = display.getAttribute('data-pagination');\n            if(paginations === null){\n              paginations = {};\n            }else{\n              paginations = JSON.parse(paginations);\n            }\n            paginations[`${ev.target.getAttribute('data-pagination-id')}`] = JSON.parse(ev.target.getAttribute('data-pagination'));\n            display.setAttribute('data-pagination', JSON.stringify(paginations));\n            ev.target.parentElement.appendChild(loadMoreSpinner);\n            ev.target.remove();\n          }\n        });\n        dataBlockContent.appendChild(loadMoreBtn);\n      }\n      return dataBlock;\n    }\n  }\n\n  buildDataSection(display) {\n    const app = document.getElementsByTagName('my-home-info');\n    const appMode = app[0].getAttribute('data-app-mode');\n    const results = document.createElement('section');\n    results.id = 'data-results';\n    if (appMode == 'my-home-info') {\n      const sectionTitle = document.createElement('p');\n      sectionTitle.className = 'data-title';\n      sectionTitle.innerText = app[0].getAttribute('data-active-section').toUpperCase();\n      results.appendChild(sectionTitle);\n    }\n    const dataBlocks = document.createElement('div');\n    dataBlocks.id = 'data-blocks';\n    results.appendChild(dataBlocks);\n\n    const apiDataSets = JSON.parse(app[0].getAttribute('data-api-active-datasets'));\n    for (const dataSet in apiDataSets) {\n      if (Object.hasOwnProperty.call(apiDataSets, dataSet)) {\n        if (display.buildDataBlock(display, apiDataSets[dataSet]) != null) {\n          dataBlocks.appendChild(display.buildDataBlock(display, apiDataSets[dataSet]));\n        }\n      }\n    }\n    return results;\n  }\n\n  loadDisplay(display) {\n    const shadow = display.shadowRoot;\n    const displayWrapper = document.createElement('section');\n    const geocoder = document.createElement('app-geocoder');\n    const navTools = document.createElement('app-nav-tools');\n    const app = document.getElementsByTagName('my-home-info');\n    navTools.printInfo = display.printInfo;\n    displayWrapper.id = 'display-wrapper';\n    switch (this.getAttribute('data-display-type')) {\n      case 'welcome':\n        shadow.appendChild(display.welcomeStyle);\n        const imageWrapper = document.createElement('div');\n        imageWrapper.id = 'welcome-img-wrapper';\n        imageWrapper.appendChild(this.neighborhoodImage);\n        displayWrapper.appendChild(imageWrapper);\n        const textWrapperWelcome = document.createElement('article');\n        displayWrapper.appendChild(textWrapperWelcome);\n        const titleWelcome = document.createElement('p');\n        titleWelcome.setAttribute('aria-label', 'title');\n        titleWelcome.innerText = 'Its all here. All in one place.';\n        titleWelcome.className = 'display-title';\n        textWrapperWelcome.appendChild(titleWelcome)\n        const textWelcome = document.createElement('p');\n        textWelcome.innerText = 'Enter your home address to find out your city councilmember and neighborhood district manager, along with local information about trash/recycling, your neighborhood police officer, city issues reported in your neighborhood, and more.';\n        textWrapperWelcome.appendChild(textWelcome);\n        textWrapperWelcome.appendChild(geocoder);\n        shadow.appendChild(displayWrapper);\n        break;\n\n      case 'active':\n        shadow.appendChild(display.welcomeStyle);\n        displayWrapper.appendChild(geocoder);\n        shadow.appendChild(displayWrapper);\n        break;\n\n      case 'loading':\n        const loader = document.createElement('cod-loader');\n        loader.setAttribute('data-color', 'color-3');\n        displayWrapper.appendChild(loader);\n        shadow.appendChild(displayWrapper);\n        break;\n\n      case 'results':\n        let parcelData = JSON.parse(app[0].getAttribute('data-parcel-id'));\n        shadow.appendChild(display.resultsStyle);\n        let resultsContainer = document.createElement('section');\n        resultsContainer.className = 'results-container';\n        resultsContainer.appendChild(navTools);\n        let dataSetResults = document.createElement('article');\n        dataSetResults.className = 'dataset-results';\n        let addressBox = document.createElement('article');\n        addressBox.className = 'result-address';\n        addressBox.innerText = parcelData.address;\n        dataSetResults.appendChild(addressBox);\n        let results = display.buildDataSection(display);\n        dataSetResults.appendChild(results);\n        resultsContainer.appendChild(dataSetResults);\n        displayWrapper.appendChild(resultsContainer);\n        shadow.appendChild(displayWrapper);\n        break;\n\n      case 'error':\n        let errorContainer = document.createElement('section');\n        shadow.appendChild(display.resultsStyle);\n        errorContainer.className = 'results-container';\n        errorContainer.appendChild(navTools);\n        let errorBox = document.createElement('article');\n        errorBox.className = 'error-result';\n        errorBox.innerHTML = `\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"70\" viewBox=\"0 0 100 68\">\n          <g id=\"large\">\n            <path fill=\"none\" stroke=\"#F44\" d=\"M55.8 38.5l6.2-1.2c0-1.8-.1-3.5-.4-5.3l-6.3-.2c-.5-2-1.2-4-2.1-6l4.8-4c-.9-1.6-1.9-3-3-4.4l-5.6 3c-1.3-1.6-3-3-4.7-4.1l2-6A30 30 0 0 0 42 8l-3.3 5.4c-2-.7-4.2-1-6.2-1.2L31.3 6c-1.8 0-3.5.1-5.3.4l-.2 6.3c-2 .5-4 1.2-6 2.1l-4-4.8c-1.6.9-3 1.9-4.4 3l3 5.6c-1.6 1.3-3 3-4.1 4.7l-6-2A32.5 32.5 0 0 0 2 26l5.4 3.3c-.7 2-1 4.2-1.2 6.2L0 36.7c0 1.8.1 3.5.4 5.3l6.3.2c.5 2 1.2 4 2.1 6l-4.8 4c.9 1.6 1.9 3 3 4.4l5.6-3c1.4 1.6 3 3 4.7 4.1l-2 6A30.5 30.5 0 0 0 20 66l3.4-5.4c2 .7 4 1 6.1 1.2l1.2 6.2c1.8 0 3.5-.1 5.3-.4l.2-6.3c2-.5 4-1.2 6-2.1l4 4.8c1.6-.9 3-1.9 4.4-3l-3-5.6c1.6-1.3 3-3 4.1-4.7l6 2A32 32 0 0 0 60 48l-5.4-3.3c.7-2 1-4.2 1.2-6.2zm-13.5 4a12.5 12.5 0 1 1-22.6-11 12.5 12.5 0 0 1 22.6 11z\"/>\n            <animateTransform attributeName=\"transform\" begin=\"0s\" dur=\"3s\" from=\"0 31 37\" repeatCount=\"indefinite\" to=\"360 31 37\" type=\"rotate\"/>\n          </g>\n          <g id=\"small\">\n            <path fill=\"none\" stroke=\"#F44\" d=\"M93 19.3l6-3c-.4-1.6-1-3.2-1.7-4.8L90.8 13c-.9-1.4-2-2.7-3.4-3.8l2.1-6.3A21.8 21.8 0 0 0 85 .7l-3.6 5.5c-1.7-.4-3.4-.5-5.1-.3l-3-5.9c-1.6.4-3.2 1-4.7 1.7L70 8c-1.5 1-2.8 2-3.9 3.5L60 9.4a20.6 20.6 0 0 0-2.2 4.6l5.5 3.6a15 15 0 0 0-.3 5.1l-5.9 3c.4 1.6 1 3.2 1.7 4.7L65 29c1 1.5 2.1 2.8 3.5 3.9l-2.1 6.3a21 21 0 0 0 4.5 2.2l3.6-5.6c1.7.4 3.5.5 5.2.3l2.9 5.9c1.6-.4 3.2-1 4.8-1.7L86 34c1.4-1 2.7-2.1 3.8-3.5l6.3 2.1a21.5 21.5 0 0 0 2.2-4.5l-5.6-3.6c.4-1.7.5-3.5.3-5.1zM84.5 24a7 7 0 1 1-12.8-6.2 7 7 0 0 1 12.8 6.2z\"/>\n            <animateTransform attributeName=\"transform\" begin=\"0s\" dur=\"2s\" from=\"0 78 21\" repeatCount=\"indefinite\" to=\"-360 78 21\" type=\"rotate\"/>\n          </g>\n        </svg>\n        <h3>No Information found on this address. Please close and try again.</h3>\n        `;\n        errorContainer.appendChild(errorBox);\n        displayWrapper.appendChild(errorContainer);\n        shadow.appendChild(displayWrapper);\n        break;\n\n      case 'print':\n        let printParcelData = JSON.parse(app[0].getAttribute('data-parcel-id'));\n        shadow.appendChild(display.resultsStyle);\n        let printResultsContainer = document.createElement('section');\n        printResultsContainer.className = 'results-container';\n        printResultsContainer.appendChild(navTools);\n        let printDataSetResults = document.createElement('article');\n        printDataSetResults.className = 'dataset-results';\n        let printAddressBox = document.createElement('article');\n        printAddressBox.className = 'result-address';\n        printAddressBox.innerText = printParcelData.address;\n        printDataSetResults.appendChild(printAddressBox);\n        let printResults = display.buildDataSection(display);\n        printDataSetResults.appendChild(printResults);\n        printResultsContainer.appendChild(printDataSetResults);\n        displayWrapper.appendChild(printResultsContainer);\n        shadow.appendChild(displayWrapper);\n        display.printInfo(display);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n}\n","'use strict';\r\nconst turf = require('@turf/turf');\r\nconst arcGIS = require('terraformer-arcgis-parser');\r\n\r\nexport default class DataLoader extends HTMLElement {\r\n  static get observedAttributes() {\r\n    return ['data-loader-state', 'data-parcel-id'];\r\n  }\r\n\r\n  constructor() {\r\n    // Always call super first in constructor\r\n    super();\r\n\r\n    // Create a shadow root\r\n    const shadow = this.attachShadow({ mode: 'open' });\r\n\r\n    // Create result section\r\n    const loaderWrapper = document.createElement('section');\r\n    loaderWrapper.id = 'loader-wrapper';\r\n    shadow.appendChild(loaderWrapper);\r\n  }\r\n\r\n  attributeChangedCallback(name, oldValue, newValue) {\r\n    const shadow = this.shadowRoot;\r\n    // console.log(`Loader - attribute: ${name}, old: ${oldValue}, new: ${newValue}`);\r\n    switch (name) {\r\n      case 'data-loader-state':\r\n        this.clearLoader(this);\r\n        this.loadLoader(this);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  getDataSets(loader) {\r\n    const app = document.getElementsByTagName('my-home-info');\r\n    const dataSets = app[0].getAttribute('data-active-sets').split(',');\r\n    const parcelData = JSON.parse(app[0].getAttribute('data-parcel-id'));\r\n    let dataList = [];\r\n\r\n    let assessorsData = new Promise((resolve, reject) => {\r\n      if (parcelData.attributes.parcel_id == 'CONDO BUILDING') {\r\n        resolve({ \"id\": \"assessors-data\", \"data\": null });\r\n      } else {\r\n        let url = \"https://apis.detroitmi.gov/assessments/parcel/\" + parcelData.attributes.parcel_id + \"/\";\r\n        return fetch(url)\r\n          .then((resp) => resp.json()) // Transform the data into json\r\n          .then(function (data) {\r\n            resolve({ \"id\": \"assessors-data\", \"data\": data });\r\n          }).catch(err => {\r\n            // console.log(err);\r\n          });\r\n      }\r\n    });\r\n\r\n    let neighborhoods = new Promise((resolve, reject) => {\r\n      resolve({ \"id\": \"neighborhood\", \"data\": parcelData });\r\n    });\r\n\r\n    let council = new Promise((resolve, reject) => {\r\n      return resolve({ \"id\": \"council\", \"data\": parcelData });\r\n    });\r\n    let bopMembers = new Promise((resolve, reject) => {\r\n      let url = \"/rest/bop?_format=json\";\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"bop-members\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let districtManagers = new Promise((resolve, reject) => {\r\n      let url = \"/rest/district-managers?_format=json\";\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"district-managers\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let districtInspectors = new Promise((resolve, reject) => {\r\n      let url = \"/rest/district-inspectors?_format=json\";\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"district-inspectors\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let councilMembers = new Promise((resolve, reject) => {\r\n      let url = \"/rest/council-members?_format=json\";\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"council-members\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let DWSDBackupProtection = new Promise((resolve, reject) => {\r\n      resolve({ \"id\": \"DWSDBackupProtection\", \"data\": parcelData });\r\n    });\r\n    let HRDFlooding = new Promise((resolve, reject) => {\r\n      resolve({ \"id\": \"HRDFlooding\", \"data\": parcelData });\r\n    });\r\n    let nrsa = new Promise((resolve, reject) => {\r\n      let url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/NRSA_2020/FeatureServer/0/query?where=&objectIds=&time=&geometry=${parcelData.location.x}%2C${parcelData.location.y}&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&returnCentroid=false&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=`\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"nrsa\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let nezHomestead = new Promise((resolve, reject) => {\r\n      let url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/NEZHOMESTEAD2021/FeatureServer/0/query?where=&objectIds=&time=&geometry=${parcelData.location.x}%2C${parcelData.location.y}&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&returnCentroid=false&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=`\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"nez\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let permitData = new Promise((resolve, reject) => {\r\n      let url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/BuildingPermits/FeatureServer/0/query?where=parcel_id+%3D+%27${parcelData.attributes.parcel_id}%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=3&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json`;\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"permit-data\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let rentalData = new Promise((resolve, reject) => {\r\n      let url;\r\n      if (parcelData.attributes.parcel_id != 'CONDO BUILDING') {\r\n        url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/RentalStatuses/FeatureServer/0/query?where=parcel_id+%3D+%27${parcelData.attributes.parcel_id}%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json`;\r\n      } else {\r\n        url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/RentalStatuses/FeatureServer/0/query?where=&objectIds=&time=&geometry=${parcelData.location.x}%2C+${parcelData.location.y}&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIndexIntersects&distance=&units=esriSRUnit_Foot&relationParam=&outFields=*&returnGeometry=true&maxAllowableOffset=&geometryPrecision=&outSR=&gdbVersion=&returnDistinctValues=false&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&multipatchOption=&resultOffset=&resultRecordCount=&f=json`;\r\n      }\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"rental-data\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let rentalCertData = new Promise((resolve, reject) => {\r\n      let url;\r\n      if (parcelData.attributes.parcel_id != 'CONDO BUILDING') {\r\n        url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/active_cofc/FeatureServer/0/query?where=parcel_id%3D%27${parcelData.attributes.parcel_id}%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=1&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json`;\r\n      } else {\r\n        url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/active_cofc/FeatureServer/0/query?where=&objectIds=&time=&geometry=${parcelData.location.x}%2C+${parcelData.location.y}&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIndexIntersects&distance=&units=esriSRUnit_Foot&relationParam=&outFields=*&returnGeometry=true&maxAllowableOffset=&geometryPrecision=&outSR=&gdbVersion=&returnDistinctValues=false&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&multipatchOption=&resultOffset=&resultRecordCount=&f=json`;\r\n      }\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"rental-cert-data\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let blightData = new Promise((resolve, reject) => {\r\n      let url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Blight_Violations_(DAH)/FeatureServer/0/query?where=parcelno%3D%27${parcelData.attributes.parcel_id}%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=violation_date&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=2&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=`;\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"blight-data\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let salesHistoryData = new Promise((resolve, reject) => {\r\n      let url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Property_Sales/FeatureServer/0/query?where=PARCEL_NO%3D%27${parcelData.attributes.parcel_id}%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=4326&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=SALE_DATE&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=2&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=`;\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"sales-data\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let demosData = new Promise((resolve, reject) => {\r\n      let point = turf.point([parcelData.location.x, parcelData.location.y]);\r\n      let buffer = turf.buffer(point, 2, { units: 'miles' });\r\n      let simplePolygon = turf.simplify(buffer.geometry, { tolerance: 0.005, highQuality: false });\r\n      let arcsimplePolygon = arcGIS.convert(simplePolygon);\r\n      let url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Demolitions_under_Contract/FeatureServer/0/query?where=&objectIds=&time=&geometry=${encodeURI(JSON.stringify(arcsimplePolygon))}&geometryType=esriGeometryPolygon&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=4326&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=geojson`;\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          data.features.sort(loader.sortFeaturesByDistanceTo(point));\r\n          resolve({ \"id\": \"demos-data\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let stabilizationData = new Promise((resolve, reject) => {\r\n      let point = turf.point([parcelData.location.x, parcelData.location.y]);\r\n      let buffer = turf.buffer(point, 2, { units: 'miles' });\r\n      let simplePolygon = turf.simplify(buffer.geometry, { tolerance: 0.005, highQuality: false });\r\n      let arcsimplePolygon = arcGIS.convert(simplePolygon);\r\n      let url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Contracted_Stabilizations/FeatureServer/0/query?where=&objectIds=&time=&geometry=${encodeURI(JSON.stringify(arcsimplePolygon))}&geometryType=esriGeometryPolygon&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=4326&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=3&f=geojson`;\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          data.features.sort(loader.sortFeaturesByDistanceTo(point));\r\n          resolve({ \"id\": \"stabilization-data\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let demoStatus = new Promise((resolve, reject) => {\r\n      let url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Demolitions_under_Contract/FeatureServer/0/query?where=parcel_id+%3D+%27${parcelData.attributes.parcel_id}%27&objectIds=&time=&geometry=&geometryType=esriGeometryPolygon&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=4326&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=demolish_by_date&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=1&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=`;\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"demo-status\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let schools = new Promise((resolve, reject) => {\r\n      let point = turf.point([parcelData.location.x, parcelData.location.y]);\r\n      let buffer = turf.buffer(point, 2, { units: 'miles' });\r\n      let simplePolygon = turf.simplify(buffer.geometry, { tolerance: 0.005, highQuality: false });\r\n      let arcsimplePolygon = arcGIS.convert(simplePolygon);\r\n      let url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/2018_2019_Schools_(EEM)/FeatureServer/0/query?where=&objectIds=&time=&geometry=${encodeURI(JSON.stringify(arcsimplePolygon))}&geometryType=esriGeometryPolygon&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=4326&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=geojson`;\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          data.features.sort(loader.sortFeaturesByDistanceTo(point));\r\n          resolve({ \"id\": \"schools\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let npo = new Promise((resolve, reject) => {\r\n      let url = `https://opengis.detroitmi.gov/opengis/rest/services/PublicSafety/NeighborhoodPoliceOfficers/FeatureServer/0/query?where=&objectIds=&time=&geometry=${parcelData.location.x}%2C${parcelData.location.y}&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&resultType=none&distance=1&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&returnCentroid=false&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=4326&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=`;\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"npo\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let improveDet = new Promise((resolve, reject) => {\r\n      let point = turf.point([parcelData.location.x, parcelData.location.y]);\r\n      let buffer = turf.buffer(point, 300, { units: 'meters' });\r\n      let simplePolygon = turf.simplify(buffer.geometry, { tolerance: 0.005, highQuality: false });\r\n      let arcsimplePolygon = arcGIS.convert(simplePolygon);\r\n      let url = `https://opengis.detroitmi.gov/opengis/rest/services/DoIT/ImproveDetroitIssues/FeatureServer/0/query?where=status+%3C%3E+%27Closed%27+and+status+%3C%3E+%27Archived%27&objectIds=&time=&geometry=${encodeURI(JSON.stringify(arcsimplePolygon))}&geometryType=esriGeometryPolygon&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=4326&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=3&f=geojson`;\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"improve-det\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let recycling = new Promise((resolve, reject) => {\r\n      let url = \"https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/WasteCollectionAreas/FeatureServer/0/query?where=&text=&objectIds=&time=&geometry=\" + parcelData.location.x + \"%2C+\" + parcelData.location.y + \"&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelWithin&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=json\";\r\n      fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          let today = new Date();\r\n          let todaysMonth = today.getMonth() + 1;\r\n          let todaysYear = today.getFullYear();\r\n          let url = `https://apis.detroitmi.gov/waste_schedule/details/${data.features[0].attributes.FID}/year/${todaysYear}/month/${todaysMonth}/`;\r\n          return fetch(url)\r\n            .then((resp) => resp.json()) // Transform the data into json\r\n            .then(function (data) {\r\n              resolve({ \"id\": \"recycling\", \"data\": data });\r\n            });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let historicDistrict = new Promise((resolve, reject) => {\r\n      let url = \"https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/Detroit_Local_Historic_Districts/FeatureServer/0/query?where=&text=&objectIds=&time=&geometry=\" + parcelData.location.x + \"%2C+\" + parcelData.location.y + \"&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelWithin&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=json\";\r\n      fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"historicDistrict\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    let fireEscrow = new Promise((resolve, reject) => {\r\n      let url = `https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/fie_properties_final/FeatureServer/0/query?where=parcel_id%3D%27${parcelData.attributes.parcel_id}%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnHiddenFields=false&returnGeometry=true&returnCentroid=false&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=`;\r\n      return fetch(url)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          resolve({ \"id\": \"fireEscrow\", \"data\": data });\r\n        }).catch(err => {\r\n          // console.log(err);\r\n        });\r\n    });\r\n    dataSets.forEach(f => {\r\n      switch (f) {\r\n        case 'council':\r\n          dataList.push(council);\r\n          break;\r\n\r\n        case 'neighborhood':\r\n          dataList.push(neighborhoods);\r\n          break;\r\n\r\n        case 'assessors-data':\r\n          if (parcelData.attributes.parcel_id != null && parcelData.attributes.parcel_id != '') {\r\n            if (parcelData.attributes.parcel_id == 'CONDO BUILDING') {\r\n            } else {\r\n              dataList.push(assessorsData);\r\n            }\r\n          }\r\n          break;\r\n\r\n        case 'permit-data':\r\n          if (parcelData.attributes.parcel_id != null && parcelData.attributes.parcel_id != '') {\r\n            dataList.push(permitData);\r\n          }\r\n          break;\r\n\r\n        case 'blight-data':\r\n          if (parcelData.attributes.parcel_id != null && parcelData.attributes.parcel_id != '') {\r\n            dataList.push(blightData);\r\n          }\r\n          break;\r\n\r\n        case 'salesHistoryData':\r\n          if (parcelData.attributes.parcel_id != null && parcelData.attributes.parcel_id != '') {\r\n            dataList.push(salesHistoryData);\r\n          }\r\n          break;\r\n\r\n        case 'fireEscrow':\r\n          if (parcelData.attributes.parcel_id != null && parcelData.attributes.parcel_id != '') {\r\n            dataList.push(fireEscrow);\r\n          }\r\n          break;\r\n\r\n        case 'nez':\r\n          dataList.push(nezHomestead);\r\n          break;\r\n\r\n        case 'nrsa':\r\n          dataList.push(nrsa);\r\n          break;\r\n\r\n        case 'npo':\r\n          dataList.push(npo);\r\n          break;\r\n\r\n        case 'improve-det':\r\n          dataList.push(improveDet);\r\n          break;\r\n\r\n        case 'recycling':\r\n          dataList.push(recycling);\r\n          break;\r\n\r\n        case 'rental-data':\r\n          if (parcelData.attributes.parcel_id != null && parcelData.attributes.parcel_id != '') {\r\n            dataList.push(rentalData);\r\n          }\r\n          break;\r\n\r\n        case 'rental-cert':\r\n          dataList.push(rentalCertData);\r\n          break;\r\n\r\n        case 'demo-status':\r\n          if (parcelData.attributes.parcel_id != null && parcelData.attributes.parcel_id != '') {\r\n            dataList.push(demoStatus);\r\n          }\r\n          break;\r\n\r\n        case 'demos-data':\r\n          dataList.push(demosData);\r\n          break;\r\n\r\n        case 'stabilization-data':\r\n          dataList.push(stabilizationData);\r\n          break;\r\n\r\n        case 'schools':\r\n          dataList.push(schools);\r\n          break;\r\n\r\n        case 'historicDistrict':\r\n          dataList.push(historicDistrict);\r\n          break;\r\n\r\n        case 'district-managers':\r\n          dataList.push(districtManagers);\r\n          break;\r\n\r\n        case 'district-inspectors':\r\n          dataList.push(districtInspectors);\r\n          break;\r\n\r\n        case 'council-members':\r\n          dataList.push(councilMembers);\r\n          break;\r\n\r\n        case 'bop-members':\r\n          dataList.push(bopMembers);\r\n          break;\r\n\r\n        case 'HRDFlooding':\r\n          console.log('pushing HRDFlooding');\r\n          dataList.push(HRDFlooding);\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n    return dataList;\r\n  }\r\n\r\n  buildCouncilData(data) {\r\n    let councilData = {\r\n      council: {\r\n        district: `District ${data.council.data.attributes.council_district}`,\r\n        districtURL: null,\r\n        name: null,\r\n        url: null,\r\n        phone: null\r\n      },\r\n      bop: {\r\n        district: `District ${data.council.data.attributes.council_district}`,\r\n        url: null,\r\n        name: null,\r\n        url: null,\r\n        phone: null,\r\n        email: null\r\n      },\r\n      dmanager: {\r\n        name: null,\r\n        url: `/departments/department-of-neighborhoods/district-${data.council.data.attributes.council_district}#block-views-block-contacts-special-block-1`,\r\n        phone: null\r\n      },\r\n      ddmanager: {\r\n        name: null,\r\n        url: `/departments/department-of-neighborhoods/district-${data.council.data.attributes.council_district}#block-views-block-contacts-special-block-1`,\r\n        phone: null\r\n      },\r\n      bliaision: {\r\n        name: null,\r\n        email: null\r\n      },\r\n      enforcement: {\r\n        name: null,\r\n        phone: null\r\n      }\r\n    };\r\n    switch (data.council.data.attributes.council_district.toString()) {\r\n      case \"1\":\r\n        councilData.council.districtURL = `/taxonomy/term/1276`;\r\n        data['council-members'].data.forEach((item) => {\r\n          if (item.tid == '1276') {\r\n            councilData.council.name = item.field_organization_head_name;\r\n            councilData.council.url = `/taxonomy/term/1276`;\r\n            councilData.council.phone = item.field_phone;\r\n          }\r\n        });\r\n        data['bop-members'].data.forEach((item) => {\r\n          if (item.field_responsibilities.includes('District 1')) {\r\n            councilData.bop.name = item.title;\r\n            councilData.bop.url = `/taxonomy/term/4331`;\r\n            let cleanPhone = item.field_telephone.replace(/ /g, '-');\r\n            cleanPhone = cleanPhone.replace(/[()]/g, '');\r\n            councilData.bop.phone = `<a href=\"tel:${cleanPhone}\">${item.field_telephone}</a>`;\r\n            councilData.bop.email = item.field_email_address;\r\n          }\r\n        });\r\n        data['district-managers'].data.forEach((item) => {\r\n          if (item.field_contact_position.includes('District 1 Manager')) {\r\n            councilData.dmanager.name = item.title;\r\n            councilData.dmanager.phone = item.field_telephone;\r\n          }\r\n          if (item.field_contact_position.includes('District 1 Deputy Manager')) {\r\n            councilData.ddmanager.name = item.title;\r\n            councilData.ddmanager.phone = item.field_telephone;\r\n          }\r\n          if (item.field_contact_position.includes('District 1 Business Liaison')) {\r\n            councilData.bliaision.name = item.title;\r\n            councilData.bliaision.email = item.field_email_address;\r\n          }\r\n        });\r\n        data['district-inspectors'].data.forEach((item) => {\r\n          if (item.field_responsibilities.includes('District 1')) {\r\n            councilData.enforcement.name = item.title;\r\n            councilData.enforcement.phone = item.field_telephone;\r\n          }\r\n        });\r\n        break;\r\n\r\n      case \"2\":\r\n        councilData.council.districtURL = `/taxonomy/term/1476`;\r\n        data['council-members'].data.forEach((item) => {\r\n          if (item.tid == '1476') {\r\n            councilData.council.name = item.field_organization_head_name;\r\n            councilData.council.url = `/taxonomy/term/1476`;\r\n            councilData.council.phone = item.field_phone;\r\n          }\r\n        });\r\n        data['bop-members'].data.forEach((item) => {\r\n          if (item.field_responsibilities.includes('District 2')) {\r\n            councilData.bop.name = item.title;\r\n            councilData.bop.url = `/taxonomy/term/4336`;\r\n            let cleanPhone = item.field_telephone.replace(/ /g, '-');\r\n            cleanPhone = cleanPhone.replace(/[()]/g, '');\r\n            councilData.bop.phone = `<a href=\"tel:${cleanPhone}\">${item.field_telephone}</a>`;\r\n            councilData.bop.email = item.field_email_address;\r\n          }\r\n        });\r\n        data['district-managers'].data.forEach((item) => {\r\n          if (item.field_contact_position.includes('District 2 Manager')) {\r\n            councilData.dmanager.name = item.title;\r\n            councilData.dmanager.phone = item.field_telephone;\r\n          }\r\n          if (item.field_contact_position.includes('District 2 Deputy Manager')) {\r\n            councilData.ddmanager.name = item.title;\r\n            councilData.ddmanager.phone = item.field_telephone;\r\n          }\r\n          if (item.field_contact_position.includes('District 2 Business Liaison')) {\r\n            councilData.bliaision.name = item.title;\r\n            councilData.bliaision.email = item.field_email_address;\r\n          }\r\n        });\r\n        data['district-inspectors'].data.forEach((item) => {\r\n          if (item.field_responsibilities.includes('District 2')) {\r\n            councilData.enforcement.name = item.title;\r\n            councilData.enforcement.phone = item.field_telephone;\r\n          }\r\n        });\r\n        break;\r\n\r\n      case \"3\":\r\n        councilData.council.districtURL = `/taxonomy/term/1481`;\r\n        data['council-members'].data.forEach((item) => {\r\n          if (item.tid == '1481') {\r\n            councilData.council.name = item.field_organization_head_name;\r\n            councilData.council.url = `/taxonomy/term/1481`;\r\n            councilData.council.phone = item.field_phone;\r\n          }\r\n        });\r\n        data['bop-members'].data.forEach((item) => {\r\n          if (item.field_responsibilities.includes('District 3')) {\r\n            councilData.bop.name = item.title;\r\n            councilData.bop.url = `/taxonomy/term/4341`;\r\n            let cleanPhone = item.field_telephone.replace(/ /g, '-');\r\n            cleanPhone = cleanPhone.replace(/[()]/g, '');\r\n            councilData.bop.phone = `<a href=\"tel:${cleanPhone}\">${item.field_telephone}</a>`;\r\n            councilData.bop.email = item.field_email_address;\r\n          }\r\n        });\r\n        data['district-managers'].data.forEach((item) => {\r\n          if (item.field_contact_position.includes('District 3 Manager')) {\r\n            councilData.dmanager.name = item.title;\r\n            councilData.dmanager.phone = item.field_telephone;\r\n          }\r\n          if (item.field_contact_position.includes('District 3 Deputy Manager')) {\r\n            councilData.ddmanager.name = item.title;\r\n            councilData.ddmanager.phone = item.field_telephone;\r\n          }\r\n          if (item.field_contact_position.includes('District 3 Business Liaison')) {\r\n            councilData.bliaision.name = item.title;\r\n            councilData.bliaision.email = item.field_email_address;\r\n          }\r\n        });\r\n        data['district-inspectors'].data.forEach((item) => {\r\n          if (item.field_responsibilities.includes('District 3')) {\r\n            councilData.enforcement.name = item.title;\r\n            councilData.enforcement.phone = item.field_telephone;\r\n          }\r\n        });\r\n        break;\r\n\r\n      case \"4\":\r\n        councilData.council.districtURL = `/taxonomy/term/1486`;\r\n        data['council-members'].data.forEach((item) => {\r\n          if (item.tid == '1486') {\r\n            councilData.council.name = item.field_organization_head_name;\r\n            councilData.council.url = `/taxonomy/term/1486`;\r\n            councilData.council.phone = item.field_phone;\r\n          }\r\n        });\r\n        data['bop-members'].data.forEach((item) => {\r\n          if (item.field_responsibilities.includes('District 4')) {\r\n            councilData.bop.name = item.title;\r\n            councilData.bop.url = `/taxonomy/term/4346`;\r\n            let cleanPhone = item.field_telephone.replace(/ /g, '-');\r\n            cleanPhone = cleanPhone.replace(/[()]/g, '');\r\n            councilData.bop.phone = `<a href=\"tel:${cleanPhone}\">${item.field_telephone}</a>`;\r\n            councilData.bop.email = item.field_email_address;\r\n          }\r\n        });\r\n        data['district-managers'].data.forEach((item) => {\r\n          if (item.field_contact_position.includes('District 4 Manager')) {\r\n            councilData.dmanager.name = item.title;\r\n            councilData.dmanager.phone = item.field_telephone;\r\n          }\r\n          if (item.field_contact_position.includes('District 4 Deputy Manager')) {\r\n            councilData.ddmanager.name = item.title;\r\n            councilData.ddmanager.phone = item.field_telephone;\r\n          }\r\n          if (item.field_contact_position.includes('District 4 Business Liaison')) {\r\n            councilData.bliaision.name = item.title;\r\n            councilData.bliaision.email = item.field_email_address;\r\n          }\r\n        });\r\n        data['district-inspectors'].data.forEach((item) => {\r\n          if (item.field_responsibilities.includes('District 4')) {\r\n            councilData.enforcement.name = item.title;\r\n            councilData.enforcement.phone = item.field_telephone;\r\n          }\r\n        });\r\n        break;\r\n\r\n      case \"5\":\r\n        councilData.council.districtURL = `/taxonomy/term/1346`;\r\n        data['council-members'].data.forEach((item) => {\r\n          if (item.tid == '1346') {\r\n            councilData.council.name = item.field_organization_head_name;\r\n            councilData.council.url = `/taxonomy/term/1346`;\r\n            councilData.council.phone = item.field_phone;\r\n          }\r\n        });\r\n        data['bop-members'].data.forEach((item) => {\r\n          if (item.field_responsibilities.includes('District 5')) {\r\n            councilData.bop.name = item.title;\r\n            councilData.bop.url = `/taxonomy/term/4351`;\r\n            let cleanPhone = item.field_telephone.replace(/ /g, '-');\r\n            cleanPhone = cleanPhone.replace(/[()]/g, '');\r\n            councilData.bop.phone = `<a href=\"tel:${cleanPhone}\">${item.field_telephone}</a>`;\r\n            councilData.bop.email = item.field_email_address;\r\n          }\r\n        });\r\n        data['district-managers'].data.forEach((item) => {\r\n          if (item.field_contact_position.includes('District 5 Manager')) {\r\n            councilData.dmanager.name = item.title;\r\n            councilData.dmanager.phone = item.field_telephone;\r\n          }\r\n          if (item.field_contact_position.includes('District 5 Deputy Manager')) {\r\n            councilData.ddmanager.name = item.title;\r\n            councilData.ddmanager.phone = item.field_telephone;\r\n          }\r\n          if (item.field_contact_position.includes('District 5 Business Liaison')) {\r\n            councilData.bliaision.name = item.title;\r\n            councilData.bliaision.email = item.field_email_address;\r\n          }\r\n        });\r\n        data['district-inspectors'].data.forEach((item) => {\r\n          if (item.field_responsibilities.includes('District 5')) {\r\n            councilData.enforcement.name = item.title;\r\n            councilData.enforcement.phone = item.field_telephone;\r\n          }\r\n        });\r\n        break;\r\n\r\n      case \"6\":\r\n        councilData.council.districtURL = `/taxonomy/term/1491`;\r\n        data['council-members'].data.forEach((item) => {\r\n          if (item.tid == '1491') {\r\n            let cleanPhone = item.field_phone.replace('Office: ', '');\r\n            cleanPhone = cleanPhone.replace(/ /g, '-');\r\n            cleanPhone = cleanPhone.replace(/[()]/g, '');\r\n            councilData.council.name = item.field_organization_head_name;\r\n            councilData.council.url = `/taxonomy/term/1491`;\r\n            councilData.council.phone = `<a href=\"tel:${cleanPhone}\">${item.field_phone}</a>`;\r\n          }\r\n        });\r\n        data['bop-members'].data.forEach((item) => {\r\n          if (item.field_responsibilities.includes('District 6')) {\r\n            councilData.bop.name = item.title;\r\n            councilData.bop.url = `/taxonomy/term/4321`;\r\n            let cleanPhone = item.field_telephone.replace(/ /g, '-');\r\n            cleanPhone = cleanPhone.replace(/[()]/g, '');\r\n            councilData.bop.phone = `<a href=\"tel:${cleanPhone}\">${item.field_telephone}</a>`;\r\n            councilData.bop.email = item.field_email_address;\r\n          }\r\n        });\r\n        data['district-managers'].data.forEach((item) => {\r\n          if (item.field_contact_position.includes('District 6 Manager')) {\r\n            let cleanPhone = item.field_telephone.replace(/ /g, '-');\r\n            cleanPhone = cleanPhone.replace(/[()]/g, '');\r\n            councilData.dmanager.name = item.title;\r\n            councilData.dmanager.phone = `<a href=\"tel:${cleanPhone}\">${item.field_telephone}</a>`;\r\n          }\r\n          if (item.field_contact_position.includes('District 6 Deputy Manager')) {\r\n            let cleanPhone = item.field_telephone.replace(/ /g, '-');\r\n            cleanPhone = cleanPhone.replace(/[()]/g, '');\r\n            councilData.ddmanager.name = item.title;\r\n            councilData.ddmanager.phone = `<a href=\"tel:${cleanPhone}\">${item.field_telephone}</a>`;\r\n          }\r\n          if (item.field_contact_position.includes('District 6 Business Liaison')) {\r\n            councilData.bliaision.name = item.title;\r\n            councilData.bliaision.email = item.field_email_address;\r\n          }\r\n        });\r\n        data['district-inspectors'].data.forEach((item) => {\r\n          if (item.field_responsibilities.includes('District 6')) {\r\n            let cleanPhone = item.field_telephone.replace(/ /g, '-');\r\n            cleanPhone = cleanPhone.replace(/[()]/g, '');\r\n            councilData.enforcement.name = item.title;\r\n            councilData.enforcement.phone = `<a href=\"tel:${cleanPhone}\">${item.field_telephone}</a>`;\r\n          }\r\n        });\r\n        break;\r\n\r\n      case \"7\":\r\n        councilData.council.districtURL = `/taxonomy/term/1511`;\r\n        data['council-members'].data.forEach((item) => {\r\n          if (item.tid == '1511') {\r\n            councilData.council.name = item.field_organization_head_name;\r\n            councilData.council.url = `/taxonomy/term/1511`;\r\n            councilData.council.phone = item.field_phone;\r\n          }\r\n        });\r\n        data['bop-members'].data.forEach((item) => {\r\n          if (item.field_responsibilities.includes('District 7')) {\r\n            councilData.bop.name = item.title;\r\n            councilData.bop.url = `/taxonomy/term/4356`;\r\n            let cleanPhone = item.field_telephone.replace(/ /g, '-');\r\n            cleanPhone = cleanPhone.replace(/[()]/g, '');\r\n            councilData.bop.phone = `<a href=\"tel:${cleanPhone}\">${item.field_telephone}</a>`;\r\n            councilData.bop.email = item.field_email_address;\r\n          }\r\n        });\r\n        data['district-managers'].data.forEach((item) => {\r\n          if (item.field_contact_position.includes('District 7 Manager')) {\r\n            councilData.dmanager.name = item.title;\r\n            councilData.dmanager.phone = item.field_telephone;\r\n          }\r\n          if (item.field_contact_position.includes('District 7 Deputy Manager')) {\r\n            councilData.ddmanager.name = item.title;\r\n            councilData.ddmanager.phone = item.field_telephone;\r\n          }\r\n          if (item.field_contact_position.includes('District 7 Business Liaison')) {\r\n            councilData.bliaision.name = item.title;\r\n            councilData.bliaision.email = item.field_email_address;\r\n          }\r\n        });\r\n        data['district-inspectors'].data.forEach((item) => {\r\n          if (item.field_responsibilities.includes('District 7')) {\r\n            councilData.enforcement.name = item.title;\r\n            councilData.enforcement.phone = item.field_telephone;\r\n          }\r\n        });\r\n        break;\r\n\r\n      default:\r\n        // console.log('not inside city');\r\n        break;\r\n    }\r\n    return councilData;\r\n  }\r\n\r\n  sortFeaturesByDistanceTo(target){\r\n    return function(a, b) {\r\n      var options = {units: 'radians'}; // using radians to forgo conversion to another unit\r\n      return turf.distance(target, a, options) - turf.distance(target, b, options);\r\n    }\r\n  }\r\n\r\n  getData(loader) {\r\n    const app = document.getElementsByTagName('my-home-info');\r\n    const activeDataSets = app[0].getAttribute('data-active-sets').split(',');\r\n    const parcelData = JSON.parse(app[0].getAttribute('data-parcel-id'));\r\n    const storedData = JSON.parse(app[0].getAttribute('data-api-stored-datasets'));\r\n    let dataAlreadyLoaded = false;\r\n    for (let key in storedData) {\r\n      if (activeDataSets.includes(key)) {\r\n        dataAlreadyLoaded = true;\r\n      }\r\n    }\r\n    if (dataAlreadyLoaded) {\r\n      let dataSets = {};\r\n      activeDataSets.forEach(data => {\r\n        dataSets[data] = storedData[data];\r\n      });\r\n      app[0].setAttribute('data-api-active-datasets', JSON.stringify(dataSets));\r\n      app[0].setAttribute('data-app-state', 'results');\r\n    } else {\r\n      let dataList = loader.getDataSets(loader);\r\n      Promise.all(dataList).then(values => {\r\n        console.log(values);\r\n        let dataSets = {};\r\n        for (let key in values) {\r\n          if (values[key] != null) {\r\n            dataSets[values[key].id] = values[key];\r\n          } else {\r\n            initialLoadChecker = false;\r\n          }\r\n        }\r\n        if (activeDataSets.includes('council')) {\r\n          let councilData = loader.buildCouncilData(dataSets);\r\n          dataSets['council-members'] = { id: 'council-members', data: councilData.council };\r\n          dataSets['bop-members'] = { id: 'bop-members', data: councilData.bop };\r\n          let dManagers = { manager: councilData.dmanager, deputy: councilData.ddmanager }\r\n          dataSets['district-managers'] = { id: 'district-managers', data: dManagers };\r\n          dataSets['business-liaison'] = { id: 'business-liaison', data: councilData.bliaision };\r\n          dataSets['district-inspectors'] = { id: 'district-inspectors', data: councilData.enforcement };\r\n        }\r\n        if (activeDataSets.includes('DWSDBackupProtection')) {\r\n          try {\r\n            if (!dataSets.DWSDBackupProtection) {\r\n              dataSets.DWSDBackupProtection = { id: 'DWSDBackupProtection', data: dataSets['neighborhood'].data };\r\n            }\r\n          } catch (error) {\r\n            // console.log(error);\r\n          }\r\n        }\r\n        app[0].setAttribute('data-api-active-datasets', JSON.stringify(dataSets));\r\n        app[0].setAttribute('data-app-state', 'results');\r\n      }).catch(reason => {\r\n        // console.log(reason);\r\n      });\r\n    }\r\n  }\r\n\r\n  clearLoader(loader) {\r\n    const shadow = loader.shadowRoot;\r\n    while (shadow.firstChild) {\r\n      shadow.removeChild(shadow.firstChild);\r\n    }\r\n  }\r\n\r\n  loadLoader(loader) {\r\n    const shadow = loader.shadowRoot;\r\n    const loaderWrapper = document.createElement('section');\r\n    loaderWrapper.id = 'loader-wrapper';\r\n    switch (loader.getAttribute('data-loader-state')) {\r\n      case 'active':\r\n        loader.getData(loader);\r\n        const textWelcome = document.createElement('p');\r\n        textWelcome.innerText = 'Loading DATA';\r\n        loaderWrapper.appendChild(textWelcome);\r\n        shadow.appendChild(loaderWrapper);\r\n        break;\r\n\r\n      case 'finished':\r\n        const text = document.createElement('p');\r\n        text.innerText = 'Data loaded';\r\n        loaderWrapper.appendChild(text);\r\n        shadow.appendChild(loaderWrapper);\r\n        break;\r\n\r\n      default:\r\n\r\n        break;\r\n    }\r\n  }\r\n}\r\n","'use strict';\r\nimport maplibregl from 'maplibre-gl';\r\nimport mapStyle from './style.json';\r\nimport mapLibreStyles from '!!raw-loader!maplibre-gl/dist/maplibre-gl.css';\r\nexport default class Map extends HTMLElement {\r\n    static get observedAttributes() {\r\n        return ['data-map-state'];\r\n    }\r\n\r\n    constructor() {\r\n        // Always call super first in constructor\r\n        super();\r\n\r\n        // Create a shadow root\r\n        const shadow = this.attachShadow({ mode: 'open' });\r\n\r\n        // Creating styles\r\n        this.styles = document.createElement('style');\r\n\r\n        this.styles.textContent = `\r\n            #map-wrapper { position: relative; }\r\n            #map { width:100%; min-height: 50em;}\r\n            cod-button { position: absolute; bottom: 0; right: 0;}\r\n            @media all and (min-width: 1024px) {\r\n                cod-button { top: 0; left: 0; bottom: auto; right: auto;}\r\n            }\r\n        `;\r\n        // Adding external styles to the shadow DOM by splitting https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css\r\n        this.mapStyles = document.createElement(\"style\");\r\n        this.mapStyles.textContent = mapLibreStyles;\r\n        shadow.appendChild(this.mapStyles);\r\n        shadow.appendChild(this.styles);\r\n\r\n        // Attach the created element to the shadow DOM\r\n        const app = document.getElementsByTagName('my-home-info');\r\n        const mapWrapper = document.createElement('section');\r\n        mapWrapper.id = 'map-wrapper';\r\n        const mapContainer = document.createElement('article');\r\n        mapContainer.id = 'map';\r\n        mapWrapper.appendChild(mapContainer);\r\n        const closeMapBtn = document.createElement('cod-button');\r\n        closeMapBtn.addEventListener('click', (ev)=>{\r\n            app[0].setAttribute('data-app-state', 'results');\r\n        });\r\n        closeMapBtn.setAttribute('data-primary', true);\r\n        closeMapBtn.setAttribute('data-label', 'x');\r\n        closeMapBtn.setAttribute('data-size', 'lg');\r\n        closeMapBtn.setAttribute('data-hover', false);\r\n        closeMapBtn.setAttribute('data-extra-classes', 'fw-bold');\r\n        closeMapBtn.setAttribute('data-background-color', 'warning');\r\n        closeMapBtn.setAttribute('data-img', '');\r\n        closeMapBtn.setAttribute('data-img-alt', '');\r\n        closeMapBtn.setAttribute('data-shape', 'square');\r\n        closeMapBtn.setAttribute('data-icon', '');\r\n        shadow.appendChild(mapWrapper);\r\n        mapWrapper.appendChild(closeMapBtn);\r\n        this.map = new maplibregl.Map({\r\n            container: mapContainer,\r\n            style: mapStyle,\r\n            center: [-83.1, 42.36],\r\n            zoom: 9\r\n        });\r\n        app[0].setAttribute('data-map-state', 'init');\r\n    }\r\n\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        const app = document.getElementsByTagName('my-home-info');\r\n        const parcel = JSON.parse(app[0].getAttribute('data-parcel-id'));\r\n        const coord = [parcel.location.x, parcel.location.y];\r\n        switch (name) {\r\n            case 'data-map-state':\r\n                this.map.addControl(new maplibregl.NavigationControl());\r\n                this.map.on('style.load', () => {\r\n                    this.map.resize();\r\n                    const marker = new maplibregl.Marker()\r\n                        .setLngLat(coord)\r\n                        .addTo(this.map);\r\n                    this.map.flyTo({\r\n                        // These options control the ending camera position: centered at\r\n                        // the target, at zoom level 9, and north up.\r\n                        center: coord,\r\n                        zoom: 12,\r\n                        bearing: 0,\r\n\r\n                        // These options control the flight curve, making it move\r\n                        // slowly and zoom out almost completely before starting\r\n                        // to pan.\r\n                        speed: 1.5, // make the flying slow\r\n                        curve: 1, // change the speed at which it zooms out\r\n\r\n                        // This can be any easing function: it takes a number between\r\n                        // 0 and 1 and returns another number between 0 and 1.\r\n                        easing: function (t) {\r\n                            return t;\r\n                        },\r\n\r\n                        // this animation is considered essential with respect to prefers-reduced-motion\r\n                        essential: true\r\n                    });\r\n                    const app = document.getElementsByTagName('my-home-info');\r\n                    const apiData = JSON.parse(app[0].getAttribute('data-api-active-datasets'));\r\n                    const mapData = app[0].getAttribute('data-map-active-data');\r\n                    this.map.addSource(\"data-points\", {\r\n                        type: \"geojson\",\r\n                        data: apiData[mapData].data\r\n                    });\r\n                    this.map.addLayer({\r\n                        id: \"data-points\",\r\n                        type: \"circle\",\r\n                        source: \"data-points\",\r\n                        paint: {\r\n                            \"circle-radius\": {\r\n                                base: 5,\r\n                                stops: [\r\n                                    [12, 5],\r\n                                    [22, 120],\r\n                                ],\r\n                            },\r\n                            \"circle-color\": \"#004544\",\r\n                        },\r\n                    });\r\n                });\r\n                // Creating this temp variable for workaround with dealing with \"this\" encapsulation\r\n                const tempMap = this;\r\n                this.map.on('click', 'data-points', function (e) {\r\n                    const app = document.getElementsByTagName('my-home-info');\r\n                    const mapData = app[0].getAttribute('data-map-active-data');\r\n                    tempMap.buildPointData(mapData, e.features[0], tempMap, e);\r\n\r\n                });\r\n                this.map.on('mouseenter', 'data-points', function () {\r\n                    tempMap.map.getCanvas().style.cursor = 'pointer';\r\n                });\r\n\r\n                // Change it back to a pointer when it leaves.\r\n                this.map.on('mouseleave', 'data-points', function () {\r\n                    tempMap.map.getCanvas().style.cursor = '';\r\n                });\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    buildPointData(dataType, data, map, e) {\r\n        switch (dataType) {\r\n            case 'schools':\r\n                new maplibregl.Popup()\r\n                    .setLngLat(e.lngLat)\r\n                    .setHTML(`<strong>School Name:</strong> ${e.features[0].properties.EntityOfficialName}`)\r\n                    .addTo(map.map);\r\n                break;\r\n\r\n            case 'demos-data':\r\n                new maplibregl.Popup()\r\n                    .setLngLat(e.lngLat)\r\n                    .setHTML(`<strong>Demo Address:</strong> ${e.features[0].properties.address}`)\r\n                    .addTo(map.map);\r\n                break;\r\n\r\n            case 'stabilization-data':\r\n                new maplibregl.Popup()\r\n                    .setLngLat(e.lngLat)\r\n                    .setHTML(`<strong>Stabilization Address:</strong> ${e.features[0].properties.address}`)\r\n                    .addTo(map.map);\r\n                break;\r\n\r\n            case 'improve-det':\r\n                new maplibregl.Popup()\r\n                    .setLngLat(e.lngLat)\r\n                    .setHTML(`<strong>Issue type:</strong> ${e.features[0].properties.request_type_title}`)\r\n                    .addTo(map.map);\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n","'use strict';\nimport Display from './Display';\nimport DataLoader from './DataLoader';\nimport Map from './Map';\ncustomElements.define('app-display', Display);\ncustomElements.define('app-data-loader', DataLoader);\ncustomElements.define('app-map', Map);\n\nexport default class MyHomeInfo extends HTMLElement {\n    static get observedAttributes() {\n        return ['data-app-state', 'data-parcel-id', 'data-map-state'];\n    }\n\n    constructor() {\n        // Always call super first in constructor\n        super();\n\n        // Create a shadow root\n        const shadow = this.attachShadow({ mode: 'open' });\n\n        // Create result section\n        const app = document.getElementsByTagName('my-home-info');\n        let tempState = app[0].getAttribute('data-app-state');\n\n        const appWrapper = document.createElement('section');\n        appWrapper.id = 'app-wrapper';\n        const display = document.createElement('app-display');\n        if(tempState == 'active-screen'){\n            display.setAttribute('data-display-type', 'active');\n        }else{\n            display.setAttribute('data-display-type', 'welcome');\n        }\n        appWrapper.appendChild(display);\n        shadow.appendChild(appWrapper);\n    }\n\n    attributeChangedCallback(name, oldValue, newValue) {\n        const shadow = this.shadowRoot;\n        const app = document.getElementsByTagName('my-home-info');\n        const appMode = app[0].getAttribute('data-app-mode');\n        // console.log(`App - attribute: ${name}, old: ${oldValue}, new: ${newValue}`);\n        switch (name) {\n            case 'data-app-state':\n                if (oldValue != null) {\n                    this.clearApp(this);\n                    this.loadApp(this);\n                }\n                break;\n\n            case 'data-parcel-id':\n                if (newValue != 'none') {\n                    this.setAttribute('data-app-state', 'loading-screen');\n                } else {\n                    if(appMode == 'my-home-info'){\n                        this.setAttribute('data-app-state', 'welcome-screen');\n                    }\n                }\n                break;\n            \n            case 'data-map-state':\n                break;\n\n            default:\n                console.log('not catched');\n                break;\n        }\n    }\n\n    clearApp(app) {\n        const shadow = app.shadowRoot;\n        while (shadow.firstChild) {\n            shadow.removeChild(shadow.firstChild);\n        }\n    }\n\n    loadApp(app) {\n        const shadow = app.shadowRoot;\n        const appWrapper = document.createElement('div');\n        appWrapper.id = 'app-wrapper';\n        const display = document.createElement('app-display');\n        const dataLoader = document.createElement('app-data-loader');\n        switch (app.getAttribute('data-app-state')) {\n            case 'welcome-screen':\n                display.setAttribute('data-display-type', 'welcome');\n                appWrapper.appendChild(display);\n                break;\n\n            case 'active-screen':\n                display.setAttribute('data-display-type', 'active');\n                appWrapper.appendChild(display);\n                break;\n\n            case 'loading-screen':\n                display.setAttribute('data-display-type', 'loading');\n                dataLoader.setAttribute('data-loader-state', 'active');\n                appWrapper.appendChild(display);\n                break;\n\n            case 'results':\n                display.setAttribute('data-display-type', 'results');\n                appWrapper.appendChild(display);\n                break;\n\n            case 'map':\n                const map = document.createElement('app-map');\n                map.id='app-map';\n                map.setAttribute('data-map-state', 'init');\n                appWrapper.appendChild(map);\n                break;\n\n            case 'error':\n                display.setAttribute('data-display-type', 'error');\n                appWrapper.appendChild(display);\n                break;\n\n            case 'print':\n                display.setAttribute('data-display-type', 'print');\n                appWrapper.appendChild(display);\n                break;\n\n            default:\n                break;\n        }\n        if (shadow.firstChild == null) {\n            shadow.appendChild(appWrapper);\n        }\n    }\n}\n","import MyHomeInfo from './components/MyHomeInfo';\ncustomElements.define('my-home-info', MyHomeInfo);\n\nimport * as Sentry from \"@sentry/browser\";\n\nSentry.init({\n    dsn: \"https://536fad340d72a07ee08fe3df749b982e@o4505717305704448.ingest.sentry.io/4505720878792704\",\n\n    // Alternatively, use `process.env.npm_package_version` for a dynamic release version\n    // if your build tool supports it.\n    release: \"local-services-lookup@2.0.9\",\n    integrations: [new Sentry.BrowserTracing(), new Sentry.Replay()],\n\n    // Set tracesSampleRate to 1.0 to capture 100%\n    // of transactions for performance monitoring.\n    // We recommend adjusting this value in production\n    tracesSampleRate: 1.0,\n\n    // Set `tracePropagationTargets` to control for which URLs distributed tracing should be enabled\n    tracePropagationTargets: [\"localhost\", /^https:\\/\\/detroitmi\\.gov/],\n\n    // Capture Replay for 10% of all sessions,\n    // plus for 100% of sessions with an error\n    replaysSessionSampleRate: 0.1,\n    replaysOnErrorSampleRate: 1.0,\n});"],"names":["Geocoder","HTMLElement","observedAttributes","constructor","super","this","form","parcelStatus","user","styles","document","createElement","textContent","shadow","attachShadow","mode","appendChild","geocoderWraper","id","label","style","fontFamily","fontWeight","input","list","icon","addEventListener","ev","submit","className","app","getElementsByTagName","innerText","getAttribute","error","setAttribute","type","placeholder","inputChange","supplementGeocoder","address","geocoder","tempAddr","split","newTempAddr","size","length","forEach","item","index","url","fetch","then","resp","json","data","candidates","sugg","attributes","parcel_id","value","onclick","selectSuggestion","childNodes","location","x","y","city","features","parcel","checkParcelValid","needGeocode","clearSuggestions","JSON","stringify","selection","target","tagName","parentNode","key","undefined","firstChild","removeChild","cleanAddress","params","geometry","request","Request","access_token","encodeURIComponent","method","body","headers","Headers","cache","res","test","preventDefault","NavigationTools","navToolsStyle","loadNavTools","clearDisplay","display","shadowRoot","navTools","appStatus","appMode","initialSets","initalMapStatus","navToolsWrapper","clearResultsBtn","propertyDataBtn","storedData","parse","activeData","govDataBtn","zoneDataBtn","nearDataBtn","printBtn","customElements","define","Display","neighborhoodImage","src","welcomeStyle","resultsStyle","loadDisplay","attributeChangedCallback","name","oldValue","newValue","formatDate","tempDate","Date","getMonth","getDate","getFullYear","buildCouncil","siteURL","window","hostname","dataParsing","title","content","district","phone","buildBOP","email","buildDistrictManagers","Object","keys","detail","manager","deputy","buildBusinessLiaison","buildInspector","buildNeighborhood","neighborhood_name","buildDWSDBackupProtection","values","validNeighborhoods","includes","Postal","buildHRDFlooding","buildHistoricDistrict","Name","Year_Enacted","format","buildNEZ","nez","RNNAME","RID","buildNRSA","buildNPO","precinct","precinct_location","police_officer","phone_number","checkRecyclingStatus","next_pickups","yardStart","yardEnd","details","service","normalDay","newDay","moment","next_pickup","isBetween","buildRecycling","contractorInfo","trash","contractor","recycling","bulk","tempHTML","buildAssessors","property","year","floor","buildingClass","ownerstreetaddr","ownercity","ownerstate","ownerzip","resb_bldgclass","cib_yearbuilt","cib_value","resb_yearbuilt","resb_value","resb_floorarea","pnum","toLocaleString","buildRental","apiDataSets","date_status","issued_date","buildFireEscrow","buildBlight","ticket_number","fine_amount","agency_name","disposition","violation_description","hearing_date","hearing_time","buildSchools","properties","EntityOfficialName","EntityActualGrades","EntityTypeName","EntityPhysicalStreet","buildPermit","record_id","permit_type","status","description_of_work","buildDemoStatus","tempAddress","replace","demolish_by_date","buildDemosNear","commercial_building","parseInt","price","contractor_name","council_district","neighborhood","buildStabilizationsNear","rehab_status","buildImproveDet","web_url","request_type_title","created_at","selectDataBlockType","setDatasetPagination","dataset","hasAttribute","paginations","paginationObj","start","end","more","printInfo","divContents","buildDataSection","a","open","write","children","innerHTML","close","print","buildDataBlock","dataSet","mapAvailable","dataBlock","pagination","splitDataset","slice","datasetValues","dataBlockTitle","dataBlockContent","text","mapButton","loadMoreBtn","loadMoreSpinner","parentElement","remove","results","sectionTitle","toUpperCase","dataBlocks","hasOwnProperty","call","displayWrapper","imageWrapper","textWrapperWelcome","titleWelcome","textWelcome","loader","parcelData","resultsContainer","dataSetResults","addressBox","errorContainer","errorBox","printParcelData","printResultsContainer","printDataSetResults","printAddressBox","printResults","turf","require","arcGIS","DataLoader","loaderWrapper","clearLoader","loadLoader","getDataSets","dataSets","dataList","assessorsData","Promise","resolve","reject","catch","err","neighborhoods","council","bopMembers","districtManagers","districtInspectors","councilMembers","HRDFlooding","nrsa","nezHomestead","permitData","rentalData","rentalCertData","blightData","salesHistoryData","demosData","point","buffer","units","simplePolygon","simplify","tolerance","highQuality","arcsimplePolygon","convert","encodeURI","sort","sortFeaturesByDistanceTo","stabilizationData","demoStatus","schools","npo","improveDet","today","todaysMonth","todaysYear","FID","historicDistrict","fireEscrow","f","push","console","log","buildCouncilData","councilData","districtURL","bop","dmanager","ddmanager","bliaision","enforcement","toString","tid","field_organization_head_name","field_phone","field_responsibilities","cleanPhone","field_telephone","field_email_address","field_contact_position","b","options","distance","getData","activeDataSets","dataAlreadyLoaded","all","initialLoadChecker","dManagers","DWSDBackupProtection","reason","Map","mapStyles","mapLibreStyles","mapWrapper","mapContainer","closeMapBtn","map","maplibregl","container","mapStyle","center","zoom","coord","addControl","on","resize","setLngLat","addTo","flyTo","bearing","speed","curve","easing","t","essential","apiData","mapData","addSource","addLayer","source","paint","base","stops","tempMap","e","buildPointData","getCanvas","cursor","dataType","lngLat","setHTML","MyHomeInfo","tempState","appWrapper","clearApp","loadApp","dataLoader","Sentry","dsn","release","integrations","tracesSampleRate","tracePropagationTargets","replaysSessionSampleRate","replaysOnErrorSampleRate"],"sourceRoot":""}