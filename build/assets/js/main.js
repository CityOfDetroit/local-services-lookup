"use strict";(self.webpackChunklocal_services_lookup=self.webpackChunklocal_services_lookup||[]).push([[179],{789:function(t,e,n){var a=n(671),r=n(466),i=n(136),o=n(963),s=n(120),c=n(407),l=n(326);function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,s.Z)(t);if(e){var r=(0,s.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,o.Z)(this,n)}}var d=function(t){(0,i.Z)(n,t);var e=u(n);function n(){var t;(0,a.Z)(this,n),(t=e.call(this)).form=null,t.parcelStatus="Invalid",t.user=null,t.styles=document.createElement("style"),t.styles.textContent="\n            @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@100;700&display=swap')\n            label {display:block; font-family: 'Montserrat', sans-serif; font-weight: bold;}\n            #geocoder {width: 100%}\n            input {width: calc(100% - 2em); padding: 1em; border:.1em solid #e6e6e6;}\n        ";var r=t.attachShadow({mode:"open"});r.appendChild(t.styles);var i=document.createElement("article");i.id="geocoder";var o=document.createElement("form"),s=document.createElement("label"),c=document.createElement("input"),u=(document.createElement("ul"),document.createElement("datalist")),d=document.createElement("i");o.addEventListener("submit",(function(e){t.submit(e,(0,l.Z)(t))})),d.className="fas fa-map-marker-alt";var p=document.getElementsByTagName("my-home-info");s.innerText="Property Address:";try{p[0].getAttribute("data-geocoder-label")&&""!=p[0].getAttribute("data-geocoder-label")&&(s.innerText=p[0].getAttribute("data-geocoder-label"))}catch(f){}return s.setAttribute("for","geocoder-input"),c.type="text",c.setAttribute("list","addresses-list"),c.placeholder="Enter address",c.setAttribute("id","geocoder-input"),c.setAttribute("autocomplete","off"),c.addEventListener("keyup",(function(e){t.inputChange(e,(0,l.Z)(t))})),u.setAttribute("id","addresses-list"),o.appendChild(s),o.appendChild(c),o.appendChild(d),o.appendChild(u),t.form=o,i.appendChild(o),r.appendChild(i),t}return(0,r.Z)(n,[{key:"supplementGeocoder",value:function(t,e,n){var a=document.getElementsByTagName("my-home-info"),r=t.split(",");r=(r=r[0]).split(" ");var i="",o=r.length;r.forEach((function(t,e){i+=t,e<o&&e+1!==o&&(i+="+")}));var s="https://opengis.detroitmi.gov/opengis/rest/services/BaseUnits/BaseUnitGeocoder/GeocodeServer/findAddressCandidates?Address=&Address2=&Address3=&Neighborhood=&City=&Subregion=&Region=&Postal=&PostalExt=&CountryCode=&SingleLine=".concat(i,"&outFields=*&maxLocations=&matchOutOfRange=true&langCode=&locationType=&sourceCountry=&category=&location=&distance=&searchExtent=&outSR=&magicKey=&f=json");try{fetch(s).then((function(t){return t.json()})).then((function(r){if("suggestions"===n)r.candidates.forEach((function(t){var n=document.createElement("option");""===t.attributes.parcel_id?(n.value=t.address,n.setAttribute("data-parsel","no-parcel")):(n.value="".concat(t.address," RECOMMENDED"),n.setAttribute("data-parsel",t.attributes.parcel_id)),n.onclick=function(t){e.selectSuggestion(t,e)},e.form.childNodes[3].appendChild(n)}));else if(r.candidates.length){var i="https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/City_of_Detroit_Boundary/FeatureServer/0/query?where=&objectIds=&time=&geometry=".concat(r.candidates[0].location.x,"%2C+").concat(r.candidates[0].location.y,"&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=4326&returnGeometry=true&returnCentroid=false&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=geojson&token=");try{fetch(i).then((function(t){return t.json()})).then((function(n){if(n.features.length){var i,o=null;r.candidates.forEach((function(t){""!==t.attributes.parcel_id&&e.checkParcelValid(t.attributes.parcel_id)&&(o=t)})),i=null==o?r.candidates[0].location:null,null===o?(e.parcelStatus="Invalid",e.needGeocode(t,e,i),e.clearSuggestions(e),a[0].setAttribute("data-parcel-id",JSON.stringify(r.candidates[0]))):(e.parcelStatus="Valid",e.needGeocode(t,e,i),e.clearSuggestions(e),a[0].setAttribute("data-parcel-id",JSON.stringify(o)))}else e.parcelStatus="Invalid",e.needGeocode(t,e,location),e.clearSuggestions(e),a[0].setAttribute("data-app-state","error")}))}catch(o){e.parcelStatus="Invalid",e.needGeocode(t,e,location),e.clearSuggestions(e),a[0].setAttribute("data-app-state","error")}}else e.parcelStatus="Invalid",e.needGeocode(t,e,location),e.clearSuggestions(e),a[0].setAttribute("data-app-state","error")}))}catch(c){e.parcelStatus="Invalid",e.needGeocode(t,e,location),e.clearSuggestions(e),a[0].setAttribute("data-app-state","error")}}},{key:"selectSuggestion",value:function(t,e){var n=null;"no-parcel"===(n="SPAN"===t.target.tagName?t.target.parentNode:t.target).attributes[0].value?(e.clearSuggestions(e),e.supplementGeocoder(n.innerText,e,"submit")):e.supplementGeocoder(n.innerText,e,"submit")}},{key:"inputChange",value:function(t,e){switch(t.key){case"Enter":""!=t.target.value&&void 0!=t.target.value&&e.supplementGeocoder(t.target.value,e,"submit");break;case"ArrowDown":case"ArrowUp":case"ArrowRight":case"ArrowLeft":break;case void 0:""!=t.target.value&&void 0!=t.target.value&&e.supplementGeocoder(t.target.value,e,"submit");break;default:e.clearSuggestions(e),e.supplementGeocoder(t.target.value,e,"suggestions")}}},{key:"clearSuggestions",value:function(t){for(;t.form.childNodes[3].firstChild;)t.form.childNodes[3].removeChild(t.form.childNodes[3].firstChild)}},{key:"needGeocode",value:function(t,e,n){fetch("https://us-central1-local-services-loopkup.cloudfunctions.net/getToken").then((function(t){return t.json()})).then((function(a){var r=t.split(" RECOMMENDED")[0],i=[{attributes:{valid_parcel_status:e.parcelStatus,user_input:r},geometry:{x:0,y:0}}];null!=n&&(i[0].geometry.x=n.x,i[0].geometry.y=n.y);var o=new Request("https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/addressvalidator/FeatureServer/0/addFeatures?token=".concat(a.access_token,"&features=").concat(encodeURIComponent(JSON.stringify(i)),"&f=json"),{method:"POST",body:"",headers:new Headers,mode:"cors",cache:"default"});fetch(o).then((function(t){}))}))}},{key:"checkParcelValid",value:function(t){return/\d/.test(t)}},{key:"submit",value:function(t,e){t.preventDefault(),e.supplementGeocoder(t.target[0].value,e,"submit")}}],[{key:"observedAttributes",get:function(){return["form","parcelStatus","user"]}}]),n}((0,c.Z)(HTMLElement));function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,s.Z)(t);if(e){var r=(0,s.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,o.Z)(this,n)}}var f=function(t){(0,i.Z)(n,t);var e=p(n);function n(){var t;(0,a.Z)(this,n);(t=e.call(this)).attachShadow({mode:"open"});return t.navToolsStyle=document.createElement("style"),t.navToolsStyle.textContent="\n            #nav-tools-wrapper { display: flex; flex-direction: column;}\n            button.clear { font-size: 1.25em; width: 2.5em; height: 2.5em; background-color: #FEB70D; cursor: pointer; border: none; }\n            button.nav { width: 3.75em; height: 3.75em; border: none; cursor: pointer;background: #fff; }\n            button.nav:hover { background-color: #e6e6e6; transition: all 500ms cubic-bezier(.64,.09,.08,1); }\n            button.nav.active { background-color: #9fd5b3; }\n            button.nav img { width: 100%; }\n        ",t.loadNavTools((0,l.Z)(t)),t}return(0,r.Z)(n,[{key:"clearDisplay",value:function(t){for(var e=t.shadowRoot;e.firstChild;)e.removeChild(e.firstChild)}},{key:"loadNavTools",value:function(t){var e=document.getElementsByTagName("my-home-info"),n=e[0].getAttribute("data-app-state"),a=e[0].getAttribute("data-app-mode"),r=e[0].getAttribute("data-inital-sets"),i=t.shadowRoot;i.appendChild(t.navToolsStyle);var o=document.createElement("section");o.id="nav-tools-wrapper",o.setAttribute("role","navigation"),o.setAttribute("aria-label","Data Navigation");var s=document.createElement("button");if(s.className="clear",s.innerText="x",s.addEventListener("click",(function(t){"my-home-info"==e[0].getAttribute("data-app-mode")?(e[0].setAttribute("data-app-state","welcome-screen"),e[0].setAttribute("data-active-sets","assessors-data,neighborhood,recycling,rental-data,rental-cert,demo-status,blight-data,permit-data")):(e[0].setAttribute("data-app-state","active-screen"),e[0].setAttribute("data-active-sets",r)),e[0].setAttribute("data-parcel-id","none"),e[0].setAttribute("data-api-stored-datasets","{}"),e[0].setAttribute("data-api-active-datasets","none"),e[0].setAttribute("data-active-section","property")})),o.appendChild(s),"my-home-info"==a&&"error"!=n){var c=document.createElement("button"),l=document.createElement("img");l.src="https://detroitmi.gov/sites/detroitmi.localhost/files/2023-01/home.png",l.setAttribute("alt","about this property"),c.setAttribute("data-nav-value","about this property"),c.appendChild(l),"about this property"==e[0].getAttribute("data-active-section")?c.className="nav active":(c.className="nav",c.addEventListener("click",(function(t){if("none"!=e[0].getAttribute("data-api-active-datasets")){var n=JSON.parse(e[0].getAttribute("data-api-stored-datasets")),a=JSON.parse(e[0].getAttribute("data-api-active-datasets"));for(var r in a)r in n||(n[r]=a[r]);e[0].setAttribute("data-api-stored-datasets",JSON.stringify(n))}e[0].setAttribute("data-api-active-datasets","none"),e[0].setAttribute("data-active-sets","assessors-data,neighborhood,recycling,rental-data,rental-cert,demo-status,blight-data,permit-data"),e[0].setAttribute("data-active-section","about this property"),e[0].setAttribute("data-app-state","loading-screen")}))),o.appendChild(c);var u=document.createElement("button"),d=document.createElement("img");d.src="https://detroitmi.gov/sites/detroitmi.localhost/files/2023-01/government.png",d.setAttribute("alt","government officials"),u.setAttribute("data-nav-value","government officials"),"government officials"==e[0].getAttribute("data-active-section")?u.className="nav active":(u.className="nav",u.addEventListener("click",(function(t){if("none"!=e[0].getAttribute("data-api-active-datasets")){var n=JSON.parse(e[0].getAttribute("data-api-stored-datasets")),a=JSON.parse(e[0].getAttribute("data-api-active-datasets"));for(var r in a)r in n||(n[r]=a[r]);e[0].setAttribute("data-api-stored-datasets",JSON.stringify(n))}e[0].setAttribute("data-api-active-datasets","none"),e[0].setAttribute("data-active-sets","council,council-members,district-managers,business-liaison,district-inspectors,npo"),e[0].setAttribute("data-active-section","government officials"),e[0].setAttribute("data-app-state","loading-screen")}))),u.appendChild(d),o.appendChild(u);var p=document.createElement("button"),f=document.createElement("img");f.src="https://detroitmi.gov/sites/detroitmi.localhost/files/2023-01/zone.png",f.setAttribute("alt","special areas and zones"),p.setAttribute("data-nav-value","special areas and zones"),"special areas and zones"==e[0].getAttribute("data-active-section")?p.className="nav active":(p.className="nav",p.addEventListener("click",(function(t){if("none"!=e[0].getAttribute("data-api-active-datasets")){var n=JSON.parse(e[0].getAttribute("data-api-stored-datasets")),a=JSON.parse(e[0].getAttribute("data-api-active-datasets"));for(var r in a)r in n||(n[r]=a[r]);e[0].setAttribute("data-api-stored-datasets",JSON.stringify(n))}e[0].setAttribute("data-api-active-datasets","none"),e[0].setAttribute("data-active-sets","nez,nrsa,historicDistrict"),e[0].setAttribute("data-active-section","special areas and zones"),e[0].setAttribute("data-app-state","loading-screen")}))),p.appendChild(f),o.appendChild(p);var m=document.createElement("button"),g=document.createElement("img");g.src="https://detroitmi.gov/sites/detroitmi.localhost/files/2023-01/nearby.png",g.setAttribute("alt","things nearby"),m.setAttribute("data-nav-value","things nearby"),"things nearby"==e[0].getAttribute("data-active-section")?m.className="nav active":(m.className="nav",m.addEventListener("click",(function(t){if("none"!=e[0].getAttribute("data-api-active-datasets")){var n=JSON.parse(e[0].getAttribute("data-api-stored-datasets")),a=JSON.parse(e[0].getAttribute("data-api-active-datasets"));for(var r in a)r in n||(n[r]=a[r]);e[0].setAttribute("data-api-stored-datasets",JSON.stringify(n))}e[0].setAttribute("data-api-active-datasets","none"),e[0].setAttribute("data-active-sets","schools,demos-data,improve-det"),e[0].setAttribute("data-active-section","things nearby"),e[0].setAttribute("data-app-state","loading-screen")}))),m.appendChild(g),o.appendChild(m);var h=document.createElement("button"),b=document.createElement("img");b.src="https://detroitmi.gov/sites/detroitmi.localhost/files/2023-01/print.png",b.setAttribute("alt","print"),h.setAttribute("data-nav-value","print"),"print"==e[0].getAttribute("data-active-section")?m.className="nav active":(h.className="nav",h.addEventListener("click",(function(){e[0].setAttribute("data-app-state","print")}))),h.appendChild(b),o.appendChild(h)}i.appendChild(o)}}]),n}((0,c.Z)(HTMLElement));function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,s.Z)(t);if(e){var r=(0,s.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,o.Z)(this,n)}}customElements.define("app-geocoder",d),customElements.define("app-nav-tools",f);var g=function(t){(0,i.Z)(n,t);var e=m(n);function n(){var t;(0,a.Z)(this,n);(t=e.call(this)).attachShadow({mode:"open"});return t.neighborhoodImage=document.createElement("img"),t.neighborhoodImage.src="https://detroitmi.gov/sites/detroitmi.localhost/files/2023-01/neighborhood.png",t.neighborhoodImage.setAttribute("alt",""),t.welcomeStyle=document.createElement("style"),t.welcomeStyle.textContent="\n          @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@100;700&display=swap')\n          #display-wrapper { display: flex; padding: 1em; flex-wrap: wrap; font-family: 'Montserrat', sans-serif;}\n          #display-wrapper > img { max-width: 100%; }\n          #display-wrapper p { text-align: center; font-family: 'Montserrat', sans-serif;}\n          #display-wrapper button { padding: 1em 3em;  background-color: #004445; color: #fff; border: none; cursor: pointer; margin: auto; width: 100%;}\n          p.display-title { font-weight: bold; font-size: 1.25em; }\n          app-geocoder { width: 100%}\n          .btn-group { display:flex; width: 100%; }\n          @media all and (min-width: 551px) {\n            #display-wrapper{ display: flex; }\n            #display-wrapper > img { width: 15em; }\n            #display-wrapper article { flex: 1; padding: 1em; }\n          }\n        ",t.loadingStyle=document.createElement("style"),t.loadingStyle.textContent="\n        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@100;700&display=swap')\n        p { text-align: center; font-family: 'Montserrat', sans-serif;}\n        .loader-box{\n            display: flex;\n            width: 100%;\n            height: 100%;\n            background-color: rgba(255, 255, 255, .75);\n            position: absolute;\n            left: -0.2em;\n            top: -0.2em;\n        }\n        .loader-container{\n          display: flex;\n          margin: auto;\n        }\n        .loader-container article{\n          margin:auto;\n        }\n        .loader {\n            position: relative;\n            width: 75px;\n            height: 100px;\n       }\n        .loader__bar {\n            position: absolute;\n            bottom: 0;\n            width: 10px;\n            height: 50%;\n            background: #ea4961;\n            transform-origin: center bottom;\n            box-shadow: 1px 1px 0 rgba(0, 0, 0, .2);\n       }\n        .loader__bar:nth-child(1) {\n            left: 0px;\n            transform: scale(1, 0.2);\n            animation: barUp1 4s infinite;\n       }\n        .loader__bar:nth-child(2) {\n            left: 20px;\n            transform: scale(1, 0.4);\n            animation: barUp2 4s infinite;\n       }\n        .loader__bar:nth-child(3) {\n            left: 40px;\n            transform: scale(1, 0.6);\n            animation: barUp3 4s infinite;\n       }\n        .loader__bar:nth-child(4) {\n            left: 60px;\n            transform: scale(1, 0.8);\n            animation: barUp4 4s infinite;\n       }\n        .loader__bar:nth-child(5) {\n            left: 80px;\n            transform: scale(1, 1);\n            animation: barUp5 4s infinite;\n       }\n        .loader__ball {\n            position: absolute;\n            bottom: 10px;\n            left: 0;\n            width: 10px;\n            height: 10px;\n            background: #ea4961;\n            border-radius: 50%;\n            animation: ball 4s infinite;\n       }\n        @keyframes ball {\n            0% {\n                transform: translate(0, 0);\n           }\n            5% {\n                transform: translate(10px, -14px);\n           }\n            10% {\n                transform: translate(20px, -10px);\n           }\n            17% {\n                transform: translate(30px, -24px);\n           }\n            20% {\n                transform: translate(40px, -20px);\n           }\n            27% {\n                transform: translate(50px, -34px);\n           }\n            30% {\n                transform: translate(60px, -30px);\n           }\n            37% {\n                transform: translate(70px, -44px);\n           }\n            40% {\n                transform: translate(80px, -40px);\n           }\n            50% {\n                transform: translate(80px, 0);\n           }\n            57% {\n                transform: translate(70px, -14px);\n           }\n            60% {\n                transform: translate(60px, -10px);\n           }\n            67% {\n                transform: translate(50px, -24px);\n           }\n            70% {\n                transform: translate(40px, -20px);\n           }\n            77% {\n                transform: translate(30px, -34px);\n           }\n            80% {\n                transform: translate(20px, -30px);\n           }\n            87% {\n                transform: translate(10px, -44px);\n           }\n            90% {\n                transform: translate(0, -40px);\n           }\n            100% {\n                transform: translate(0, 0);\n           }\n       }\n        @keyframes barUp1 {\n            0% {\n                transform: scale(1, 0.2);\n           }\n            40% {\n                transform: scale(1, 0.2);\n           }\n            50% {\n                transform: scale(1, 1);\n           }\n            90% {\n                transform: scale(1, 1);\n           }\n            100% {\n                transform: scale(1, 0.2);\n           }\n       }\n        @keyframes barUp2 {\n            0% {\n                transform: scale(1, 0.4);\n           }\n            40% {\n                transform: scale(1, 0.4);\n           }\n            50% {\n                transform: scale(1, 0.8);\n           }\n            90% {\n                transform: scale(1, 0.8);\n           }\n            100% {\n                transform: scale(1, 0.4);\n           }\n       }\n        @keyframes barUp3 {\n            0% {\n                transform: scale(1, 0.6);\n           }\n            100% {\n                transform: scale(1, 0.6);\n           }\n       }\n        @keyframes barUp4 {\n            0% {\n                transform: scale(1, 0.8);\n           }\n            40% {\n                transform: scale(1, 0.8);\n           }\n            50% {\n                transform: scale(1, 0.4);\n           }\n            90% {\n                transform: scale(1, 0.4);\n           }\n            100% {\n                transform: scale(1, 0.8);\n           }\n       }\n        @keyframes barUp5 {\n            0% {\n                transform: scale(1, 1);\n           }\n            40% {\n                transform: scale(1, 1);\n           }\n            50% {\n                transform: scale(1, 0.2);\n           }\n            90% {\n                transform: scale(1, 0.2);\n           }\n            100% {\n                transform: scale(1, 1);\n           }\n       }       \n        ",t.resultsStyle=document.createElement("style"),t.resultsStyle.textContent="\n          .results-container{ display: flex; }\n          #data-results { background-color: #e6e6e6; padding: 1em }\n          .data-title { font-weight: bold; border-left: solid .2em #FEB70D; padding: .5em; margin: 0 0 1em 0; font-family: 'Montserrat', sans-serif;}\n          .result-address {background-color: #fff; border: solid 0.1em #e6e6e6; padding: 0.78em 0.6em; font-family: 'Montserrat', sans-serif;}\n          .data-block-title { padding: .5em; background-color: #FEB70D; margin: 0; font-weight: bold; font-family: 'Montserrat', sans-serif;}\n          .data-block-content { padding: .5em; margin-bottom: .5em; background-color: #fff; }\n          .data-block-content p { margin: 0; font-family: 'Montserrat', sans-serif;}\n          .dataset-results {flex: 1;}\n          .critical-text { color: #CF3234; }\n          .error-result { padding: 1em; }\n          @media all and (min-width: 551px) {\n            #data-blocks { column-count: 2; }\n            #data-blocks .data-block {     -webkit-column-break-inside: avoid; page-break-inside: avoid; break-inside: avoid; }\n          }\n\n          @media all and (min-width: 1024px) {\n            #data-blocks { column-count: 3; }\n            #data-blocks .data-block {     -webkit-column-break-inside: avoid; page-break-inside: avoid; break-inside: avoid; }\n          }\n        ",t.loadDisplay((0,l.Z)(t)),t}return(0,r.Z)(n,[{key:"attributeChangedCallback",value:function(t,e,n){"results"==n&&this.clearDisplay(this),this.loadDisplay(this)}},{key:"clearDisplay",value:function(t){for(var e=t.shadowRoot;e.firstChild;)e.removeChild(e.firstChild)}},{key:"formatDate",value:function(t){var e=new Date(t);return"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())}},{key:"buildCouncil",value:function(t){var e=window.location.hostname,n={title:"Council District",content:null};return n.content="\n        <p><strong>District Number:</strong> ".concat(t.data.district,'</p>\n        <p><strong>Council Member:</strong> <a href="http://').concat(e).concat(t.data.url,'" target="_blank">').concat(t.data.name,"</a></p>\n        <p><strong>Council Member Phone:</strong> ").concat(t.data.phone,"</p>\n      "),n}},{key:"buildDistrictManagers",value:function(t){var e={title:"District Managers",content:null};return t&&0!=Object.keys(t.data).length&&t.data.constructor===Object&&"Not found."!==t.data.detail?e.content='\n          <p><strong>District Manager:</strong> <a href="'.concat(t.data.manager.url,'" target="_blank">').concat(t.data.manager.name,"</a></p>\n          <p><strong>Manager Phone:</strong> ").concat(t.data.manager.phone,'</p>\n          <p><strong>Deputy Manager:</strong> <a href="').concat(t.data.deputy.url,'" target="_blank">').concat(t.data.deputy.name,"</a></p>\n          <p><strong>Deputy Manager Phone:</strong> ").concat(t.data.deputy.phone,"</p>\n          "):e.content="\n            <p>No data found</p>\n          ",e}},{key:"buildBusinessLiaison",value:function(t){var e={title:"Business Liaison",content:null};return t&&0!=Object.keys(t.data).length&&t.data.constructor===Object&&"Not found."!==t.data.detail?e.content="\n          <p><strong>Liaison:</strong> ".concat(t.data.name,"</p>\n          <p><strong>Liaison Phone:</strong> ").concat(t.data.email,"</p>\n          "):e.content="\n            <p>No data found</p>\n          ",e}},{key:"buildInspector",value:function(t){var e={title:"Enforcement Inspector",content:null};return t&&0!=Object.keys(t.data).length&&t.data.constructor===Object&&"Not found."!==t.data.detail?e.content="\n          <p><strong>Inspector:</strong> ".concat(t.data.name,"</p>\n          <p><strong>Inspector Phone:</strong> ").concat(t.data.phone,"</p>\n          "):e.content="\n            <p>No data found</p>\n          ",e}},{key:"buildNeighborhood",value:function(t){var e={title:"Neighborhood",content:null};return t&&0!=Object.keys(t.data).length&&t.data.constructor===Object&&"Not found."!==t.data.detail?e.content="\n            <p><strong>Neighborhood name:</strong> ".concat(t.data.attributes.neighborhood_name,"</p>\n          "):e.content="\n            <p>No neighborhood found</p>\n          ",e}},{key:"buildDWSDBackupProtection",value:function(t){var e={title:"DWSD Basement Backup Protection Program",content:null};return t.neighborhood&&t.neighborhood.data.features.length?["Aviation Sub","Barton-McFarland","Chadsey Condon","Cornerstone Village","East English Village","Morningside","Jefferson Chalmers","Warrendale","Victoria Park","Moross-Morang","Garden View"].includes(t.neighborhood.data.features[0].attributes.neighborhood_name)&&(e.content='\n        <p>This property qualifies for the DWSD Basement Backup Protection Program.</p>\n        <a href="https://app.smartsheet.com/b/form/509cb1e905a74948bce7b0135da53277?Property%20Street%20Address='.concat(value.data.address,"&Property%20City=Detroit&Property%20Zip%20Code=").concat(value.data.attributes.Postal,"&Neighborhood=").concat(value.data.attributes.neighborhood_name,'" target="_blank"><button>Apply Now</button></a>\n        ')):e.content='\n        <p>This property doesn\'t qualify for the Basement Backup Protection Program. To learn more please <a href="https://detroitmi.gov/departments/water-and-sewerage-department/dwsd-resources/basement-flooding-protection">visit our page.</a></p>\n        ',e}},{key:"buildHistoricDistrict",value:function(t,e){var n={title:"NEZ Homestead Zone",content:null};return 0!=Object.keys(t.data).length&&t.data.constructor===Object&&t.data.features.length>0?n.content="\n          <p><strong>NAME:</strong> ".concat(t.data.features[0].attributes.Name,"</p>\n          <p><strong>DESIGNATED ON:</strong> ").concat(e.formatDate(t.data.features[0].attributes.Year_Enacted).format("MMM DD, YYYY"),"</p>\n          "):n.content="\n          <p>This property is not in a historic district.</p>\n          ",n}},{key:"buildNEZ",value:function(t){var e={title:"NEZ Homestead Zone",content:null};return 0!=Object.keys(t.data).length&&t.data.constructor===Object&&t.data.features.length>0?e.content="\n          <p><strong>Name:</strong> ".concat(t.data.features[0].attributes.RNNAME,"</p>\n          <p><strong>ID:</strong> ").concat(t.data.features[0].attributes.RID,'</p>\n          <p class="noprint"><a href="https://data.detroitmi.gov/datasets/proposed-nez-homestead-2021/explore" target="_blank">View Map</a></p>\n          '):e.content='\n          <p>This property is not on a NEZ Homestead zone.</p>\n          <p class="noprint"><a href="https://data.detroitmi.gov/datasets/nez-h-districts/explore" target="_blank">View Map</a></p>\n          ',e}},{key:"buildNRSA",value:function(t){var e={title:"Neighborhood Revitalization Strategy Areas (NRSA)",content:null};return 0!=Object.keys(t.data).length&&t.data.constructor===Object&&t.data.features.length>0?e.content="\n          <p><strong>Name:</strong> ".concat(t.data.features[0].attributes.Name,"</p>\n          "):e.content="\n          <p>This property is not on a NRSA.</p>\n          ",e}},{key:"buildNPO",value:function(t){var e={title:"Police",content:null};return t&&t.data.features.length?e.content="\n          <p><strong>PRECINCT</strong></p>\n          <p><strong>Number:</strong> ".concat(t.data.features[0].attributes.precinct,"</p>\n          <p><strong>Address:</strong> ").concat(t.data.features[0].attributes.precinct_location,"</p>\n          <br>\n          <p><strong>NEIGHBORHOOD POLICE OFFICER (NPO)</strong></p>\n          <p><strong>Name:</strong> ").concat(t.data.features[0].attributes.police_officer,"</p>\n          <p><strong>Phone:</strong> ").concat(t.data.features[0].attributes.phone_number,"</p>\n          <p><strong>Email:</strong> ").concat(t.data.features[0].attributes.email,"</p>\n          "):e.content="<p>No police info found</p>",e}},{key:"checkRecyclingStatus",value:function(t){try{if(t.next_pickups["yard waste"]){var e=null,n=null;return t.details.forEach((function(t){"start-date"==t.type&&"yard waste"==t.service&&(e=null!=t.normalDay?t.normalDay:t.newDay),"end-date"==t.type&&"yard waste"==t.service&&(n=null!=t.normalDay?t.normalDay:t.newDay)})),!!moment(t.next_pickups["yard waste"].next_pickup).isBetween(e,n)}return!1}catch(a){return!1}}},{key:"buildRecycling",value:function(t,e){var n={title:"Trash & Recycling",content:null};if(t&&0!=Object.keys(t.data).length&&t.data.constructor===Object){var a={name:null,url:null,phone:null};"GFL"===t.data.next_pickups.trash.contractor?(a.name="GFL",a.url="http://gflusa.com/residential/detroit/",a.phone="(844) 464-3587"):(a.name="WM",a.url="http://www.advanceddisposal.com/mi/detroit/detroit-residential-collection",a.phone=" (844) 233-8764"),n.content='\n            <p><strong>Provider:</strong> <a href="'.concat(a.url,'" target="_blank">').concat(a.name,"</a> ").concat(a.phone,"</p>\n            <p><strong>Next Trash:</strong> ").concat(e.formatDate(t.data.next_pickups.trash.next_pickup),"</p>\n            <p><strong>Next Recycling:</strong> ").concat(e.formatDate(t.data.next_pickups.recycling.next_pickup),"</p>\n            <p><strong>Next Bulk:</strong> ").concat(e.formatDate(t.data.next_pickups.bulk.next_pickup),"</p>\n            ").concat(e.checkRecyclingStatus(t.data)?tempHTML+="<p><strong>Next Yard:</strong> ".concat(e.formatDate(t.data.next_pickups["yard waste"].next_pickup),"</p>"):"","\n          ")}else n.content="<p>No data found</p>";return n}},{key:"buildAssessors",value:function(t){var e={title:"Assessor's Data",content:null};if(t&&0!=Object.keys(t.data).length&&t.data.constructor===Object&&"Not found."!==t.data.detail){var n={year:null,value:null,floor:null,buildingClass:null};e.content="\n            <p><strong>Owner's address:</strong> ".concat(t.data.ownerstreetaddr,"</p>\n            <p><strong>Owner's city:</strong> ").concat(t.data.ownercity,"</p>\n            <p><strong>Owner's state:</strong> ").concat(t.data.ownerstate,"</p>\n            <p><strong>Owner's zip:</strong> ").concat(t.data.ownerzip,"</p>\n          "),0===t.data.resb_bldgclass?(n.year=t.data.cib_yearbuilt,n.value=t.data.cib_value,n.floor=t.data.cib_yearbuilt,n.buildingClass=t.data.cib_yearbuilt):(n.year=t.data.resb_yearbuilt,n.value=t.data.resb_value,n.floor=t.data.resb_floorarea,n.buildingClass=t.data.resb_bldgclass),e.content+="\n            <p><strong>Parcel number:</strong> ".concat(t.data.pnum,"</p>\n            <p><strong>Year build:</strong> ").concat(n.year,"</p>\n            <p><strong>Calculated value:</strong> $").concat(n.value.toLocaleString(),"</p>\n            <p><strong>Floor area:</strong> ").concat(n.floor.toLocaleString()," SQFT</p>\n            <p><strong>Building class:</strong> ").concat(n.buildingClass,"</p>\n          ")}else e.content="<p>No data found</p>";return e}},{key:"buildRental",value:function(t,e){var n=document.getElementsByTagName("my-home-info"),a=JSON.parse(n[0].getAttribute("data-api-active-datasets")),r={title:"Rental Enforcement Status",content:null};return t&&t.data.features.length||a["rental-cert-data"]&&a["rental-cert-data"].data.features.length?r.content="\n            <p><strong>Registered:</strong> ".concat(t.data.features.length?"".concat(e.formatDate(t.data.features[0].attributes.date_status)):"Not registered","</p>\n            <p><strong>Certified:</strong> ").concat(a["rental-cert-data"].data.features.length?"".concat(e.formatDate(a["rental-cert-data"].data.features[0].attributes.issued_date)):"Not certified","</p>\n          "):r.content="\n          <p><strong>Registered:</strong> Not registered</p>\n          <p><strong>Certified:</strong> Not certified</p>\n          ",r}},{key:"buildFireEscrow",value:function(t){var e="";return t&&t.data.features.length?e+='\n            <article class="info-section">\n            <span>FIRE ESCROW</span>\n            <div>\n              <p><strong>STATUS:</strong> Fire Escrow found</p>\n              <p><a href="https://detroitmi.gov/taxonomy/term/8501"><button>Start Process</button></a></p>\n            </div>\n            </article>':e+='\n          <article class="info-section">\n            <span>FIRE ESCROW</span>\n            <div>\n              <p><strong>STATUS:</strong> Fire Escrow not found</p>\n            </div>\n            </article>',e}},{key:"buildBlight",value:function(t,e){var n={title:"Blight Tickets",content:null};return t&&t.data.features.length?n.content="\n            <p><strong>Ticket ID:</strong> ".concat(t.attributes.ticket_number,"</p>\n            <p><strong>Fine Amount:</strong> $").concat(t.attributes.fine_amount,"</p>\n            <p><strong>Agency name:</strong> ").concat(t.attributes.agency_name,"</p>\n            <p><strong>Disposition:</strong> ").concat(t.attributes.disposition,"</p>\n            <p><strong>Description:</strong> ").concat(t.attributes.violation_description,"</p>\n            <p><strong>Hearing Date:</strong> ").concat(e.formatDate(t.attributes.hearing_date),"</p>\n            <p><strong>Hearing Time:</strong> ").concat(t.attributes.hearing_time,"</p>\n          "):n.content="<p>No blight tickets found</p>",n}},{key:"buildSchools",value:function(t,e){var n={title:"Schools",content:null};return t&&t.data.features.length?t.data.features.forEach((function(t,e){0==e?n.content="\n              <p><strong>Name:</strong> ".concat(t.attributes.EntityOfficialName,"</p>\n              <p><strong>EntityActualGrades:</strong> ").concat(t.attributes.EntityActualGrades,"</p>\n              <p><strong>Type:</strong> ").concat(t.attributes.EntityTypeName,"</p>\n              <p><strong>Address:</strong> ").concat(t.attributes.EntityPhysicalStreet,"</p>\n              <br>\n              "):n.content+="\n              <p><strong>Name:</strong> ".concat(t.attributes.EntityOfficialName,"</p>\n              <p><strong>EntityActualGrades:</strong> ").concat(t.attributes.EntityActualGrades,"</p>\n              <p><strong>Type:</strong> ").concat(t.attributes.EntityTypeName,"</p>\n              <p><strong>Address:</strong> ").concat(t.attributes.EntityPhysicalStreet,"</p>\n              <br>\n              ")})):n.content="<p>No schools nearby.</p>",n}},{key:"buildPermit",value:function(t,e){var n={title:"Building Permits",content:null};return t&&t.data.features.length?n.content="\n          <p><strong>PERMIT NUMBER:</strong> ".concat(t.attributes.record_id,"</p>\n          <p><strong>PERMIT TYPE:</strong> ").concat(t.attributes.permit_type,"</p>\n          <p><strong>PERMIT BUILDING TYPE:</strong> ").concat(t.attributes.permit_type,"</p>\n          <p><strong>PERMIT STATUS:</strong> ").concat(t.attributes.status,"</p>\n          <p><strong>PERMIT ISSUED:</strong> ").concat(e.formatDate(t.attributes.issued_date),"</p>\n          <p><strong>PERMIT DESCRIPTION:</strong> ").concat(t.attributes.description_of_work,"</p>\n          "):n.content="<p>No building permits found</p>",n}},{key:"buildDemoStatus",value:function(t,e){var n=document.getElementsByTagName("my-home-info"),a=JSON.parse(n[0].getAttribute("data-parcel-id")).address.replace(" ","%2520");a=a.replace(",","%252C");var r={title:"Demolition Status",content:null};return t&&t.data.features.length?r.content='\n            <p class="critical-text"><strong>WARNIG!</strong></p>\n            <p>THIS PROPERTY IS SCHEDULED FOR DEMOLITION</p> \n            '.concat(null==t.data.features[0].attributes.demolish_by_date?"<p><strong>Date to be determined</strong></p>":"<p><strong>".concat(e.formatDate(t.attributes.demolish_by_date),'</stron></p>\n            <p><a href="https://detroitmi.maps.arcgis.com/apps/instant/nearby/index.html?appid=41ba8dd946d842b9ba632ecc0a5d2556&sliderDistance=1&find=').concat(a,'" target="_blank">Expand your demo search</a></p>\n            '),"\n          "):r.content='\n          <p>This property is not on the demolition list</p>\n          <p><a href="https://detroitmi.maps.arcgis.com/apps/instant/nearby/index.html?appid=41ba8dd946d842b9ba632ecc0a5d2556&sliderDistance=1&find='.concat(a,'" target="_blank">Expand your demo search</a></p>'),r}},{key:"buildDemosNear",value:function(t,e){var n={title:"Demolitions Nearby",content:null};return t&&t.data.features.length?t.data.features.forEach((function(t,a){0==a?n.content="\n              <p><strong>Address:</strong> ".concat(t.attributes.address,"</p>\n              <p><strong>Commercial:</strong> ").concat(t.attributes.commercial_building,"</p>\n              <p><strong>Price:</strong> $").concat(parseInt(t.attributes.price).toLocaleString(),"</p>\n              <p><strong>Parcel:</strong> ").concat(t.attributes.parcel_id,"</p>\n              <p><strong>Contractor:</strong> ").concat(t.attributes.contractor_name,"</p>\n              <p><strong>Council District:</strong> ").concat(t.attributes.council_district,"</p>\n              <p><strong>Neighborhood:</strong> ").concat(t.attributes.neighborhood,"</p>\n              ").concat(void 0==t.attributes.demolish_by_date||null==t.attributes.demolish_by_date?"<p><p><strong>Expected Date:</strong> Date to be determined</p>":"<p><strong>Expected Date:</strong>".concat(e.formatDate(t.attributes.demolish_by_date),"</stron></p>\n              <p><strong>Expected Date:</strong> ").concat(e.formatDate(t.attributes.demolish_by_date),"</p>"),"\n              <br>\n              "):n.content+="\n              <p><strong>Address:</strong> ".concat(t.attributes.address,"</p>\n              <p><strong>Commercial:</strong> ").concat(t.attributes.commercial_building,"</p>\n              <p><strong>Price:</strong> $").concat(parseInt(t.attributes.price).toLocaleString(),"</p>\n              <p><strong>Parcel:</strong> ").concat(t.attributes.parcel_id,"</p>\n              <p><strong>Contractor:</strong> ").concat(t.attributes.contractor_name,"</p>\n              <p><strong>Council District:</strong> ").concat(t.attributes.council_district,"</p>\n              <p><strong>Neighborhood:</strong> ").concat(t.attributes.neighborhood,"</p>\n              ").concat(null==t.attributes.demolish_by_date?"<p><p><strong>Expected Date:</strong> Date to be determined</p>":"<p><strong>Expected Date:</strong>".concat(e.formatDate(t.attributes.demolish_by_date),"</stron></p>\n              <p><strong>Expected Date:</strong> ").concat(e.formatDate(t.attributes.demolish_by_date),"</p>"),"\n              <br>\n              ")})):n.content="<p>No demolitions are happening nearby.</p>",n}},{key:"buildImproveDet",value:function(t,e){var n={title:"Improve Detroit Issues Nearby",content:null};return t&&t.data.features.length?t.data.features.forEach((function(t,a){0==a?n.content='\n              <p><strong>ID:</strong> <a href="'.concat(t.attributes.web_url,'" target="_blank">').concat(t.attributes.id,"</a></p>\n              <p><strong>Type:</strong> ").concat(t.attributes.request_type_title,"</p>\n              <p><strong>Status:</strong> ").concat(t.attributes.status,"</p>\n              <p><strong>Reported on:</strong> ").concat(e.formatDate(t.attributes.created_at),"</p>\n              <br>\n              "):n.content+='\n              <p><strong>ID:</strong> <a href="'.concat(t.attributes.web_url,'" target="_blank">').concat(t.attributes.id,"</a></p>\n              <p><strong>Type:</strong> ").concat(t.attributes.request_type_title,"</p>\n              <p><strong>Status:</strong> ").concat(t.attributes.status,"</p>\n              <p><strong>Reported on:</strong> ").concat(e.formatDate(t.attributes.created_at),"</p>\n              <br>\n              ")})):n.content="<p>No active issues nearby.</p>",n}},{key:"selectDataBlockType",value:function(t,e){switch(e.id){case"council-members":try{return t.buildCouncil(e)}catch(n){return""}break;case"district-managers":try{return t.buildDistrictManagers(e)}catch(n){return""}break;case"business-liaison":try{return t.buildBusinessLiaison(e)}catch(n){return""}break;case"district-inspectors":try{return t.buildInspector(e)}catch(n){return""}break;case"neighborhood":try{return t.buildNeighborhood(e)}catch(n){return""}break;case"nez":try{return t.buildNEZ(e)}catch(n){return""}break;case"nrsa":try{return t.buildNRSA(e)}catch(n){return""}break;case"assessors-data":try{return t.buildAssessors(e)}catch(n){return""}break;case"permit-data":try{return t.buildPermit(e,t)}catch(n){return""}break;case"rental-data":try{return t.buildRental(e,t)}catch(n){return""}break;case"blight-data":try{return t.buildBlight(e,t)}catch(n){return""}break;case"demos-data":try{return t.buildDemosNear(e,t)}catch(n){return""}break;case"demo-status":try{return t.buildDemoStatus(e)}catch(n){return""}break;case"npo":try{return t.buildNPO(e)}catch(n){return""}break;case"improve-det":try{return t.buildImproveDet(e,t)}catch(n){return""}break;case"schools":try{return t.buildSchools(e,t)}catch(n){return""}break;case"recycling":try{return t.buildRecycling(e,t)}catch(n){return""}break;case"historicDistrict":try{return t.buildHistoricDistrict(e)}catch(n){return""}break;case"fireEscrow":try{return t.buildFireEscrow(e)}catch(n){return""}break;case"DWSDBackupProtection":try{return t.buildDWSDBackupProtection(e)}catch(n){return""}break;default:return""}}},{key:"printInfo",value:function(t){var e=t.buildDataSection(t),n=window.open("","","height=500, width=500");n.document.write("<html>"),n.document.write("<head><style>@media print {.noprint { visibility: hidden;} p.data-block-title{border-bottom: 1px solid;} }</style></head>"),n.document.write("<body >"),n.document.write(e.children[1].innerHTML),n.document.write("</body>"),n.document.close(),n.print()}},{key:"buildDataBlock",value:function(t,e){var n=document.createElement("article");n.className="data-block";var a=t.selectDataBlockType(t,e);if(void 0==a||null==a.content)return null;var r=document.createElement("p");r.className="data-block-title",r.innerText=a.title,n.appendChild(r);var i=document.createElement("article");return i.className="data-block-content",i.innerHTML=a.content,n.appendChild(i),n}},{key:"buildDataSection",value:function(t){var e=document.getElementsByTagName("my-home-info"),n=e[0].getAttribute("data-app-mode"),a=document.createElement("section");if(a.id="data-results","my-home-info"==n){var r=document.createElement("p");r.className="data-title",r.innerText=e[0].getAttribute("data-active-section").toUpperCase(),a.appendChild(r)}var i=document.createElement("div");i.id="data-blocks",a.appendChild(i);var o=JSON.parse(e[0].getAttribute("data-api-active-datasets"));for(var s in o)Object.hasOwnProperty.call(o,s)&&null!=t.buildDataBlock(t,o[s])&&i.appendChild(t.buildDataBlock(t,o[s]));return a}},{key:"loadDisplay",value:function(t){var e=t.shadowRoot,n=document.createElement("section"),a=document.createElement("app-geocoder"),r=document.createElement("app-nav-tools"),i=document.getElementsByTagName("my-home-info");switch(r.printInfo=t.printInfo,n.id="display-wrapper",this.getAttribute("data-display-type")){case"welcome":e.appendChild(t.welcomeStyle),n.appendChild(this.neighborhoodImage);var o=document.createElement("article");n.appendChild(o);var s=document.createElement("p");s.setAttribute("aria-label","title"),s.innerText="It\u2019s all here. All in one place.",s.className="display-title",o.appendChild(s);var c=document.createElement("p");c.innerText="Enter your home address to find out your city councilmember and neighborhood district manager, along with local information about trash/recycling, your neighborhood police officer, city issues reported in your neighborhood, and more.",o.appendChild(c);var l=document.createElement("div");l.className="btn-group";var u=document.createElement("button");u.innerText="Start",u.addEventListener("click",(function(t){document.getElementsByTagName("my-home-info")[0].setAttribute("data-app-state","active-screen")})),l.appendChild(u),o.appendChild(l),e.appendChild(n);break;case"active":e.appendChild(t.welcomeStyle),n.appendChild(a),e.appendChild(n);break;case"loading":e.appendChild(t.loadingStyle);var d=document.createElement("article");d.innerHTML='\n                <article class="loader-container">\n                    <article>\n                    <div class="loader">\n                        <div class="loader__bar"></div>\n                        <div class="loader__bar"></div>\n                        <div class="loader__bar"></div>\n                        <div class="loader__bar"></div>\n                        <div class="loader__bar"></div>\n                        <div class="loader__ball"></div>\n                    </div>\n                    <p>LOADING</p>\n                    </article>\n                </article>',n.appendChild(d),e.appendChild(n);break;case"results":var p=JSON.parse(i[0].getAttribute("data-parcel-id"));e.appendChild(t.resultsStyle);var f=document.createElement("section");f.className="results-container",f.appendChild(r);var m=document.createElement("article");m.className="dataset-results";var g=document.createElement("article");g.className="result-address",g.innerText=p.address,m.appendChild(g);var h=t.buildDataSection(t);m.appendChild(h),f.appendChild(m),n.appendChild(f),e.appendChild(n);break;case"error":var b=document.createElement("section");e.appendChild(t.resultsStyle),b.className="results-container",b.appendChild(r);var y=document.createElement("article");y.className="error-result",y.innerHTML='\n        <svg xmlns="http://www.w3.org/2000/svg" width="100" height="70" viewBox="0 0 100 68">\n          <g id="large">\n            <path fill="none" stroke="#F44" d="M55.8 38.5l6.2-1.2c0-1.8-.1-3.5-.4-5.3l-6.3-.2c-.5-2-1.2-4-2.1-6l4.8-4c-.9-1.6-1.9-3-3-4.4l-5.6 3c-1.3-1.6-3-3-4.7-4.1l2-6A30 30 0 0 0 42 8l-3.3 5.4c-2-.7-4.2-1-6.2-1.2L31.3 6c-1.8 0-3.5.1-5.3.4l-.2 6.3c-2 .5-4 1.2-6 2.1l-4-4.8c-1.6.9-3 1.9-4.4 3l3 5.6c-1.6 1.3-3 3-4.1 4.7l-6-2A32.5 32.5 0 0 0 2 26l5.4 3.3c-.7 2-1 4.2-1.2 6.2L0 36.7c0 1.8.1 3.5.4 5.3l6.3.2c.5 2 1.2 4 2.1 6l-4.8 4c.9 1.6 1.9 3 3 4.4l5.6-3c1.4 1.6 3 3 4.7 4.1l-2 6A30.5 30.5 0 0 0 20 66l3.4-5.4c2 .7 4 1 6.1 1.2l1.2 6.2c1.8 0 3.5-.1 5.3-.4l.2-6.3c2-.5 4-1.2 6-2.1l4 4.8c1.6-.9 3-1.9 4.4-3l-3-5.6c1.6-1.3 3-3 4.1-4.7l6 2A32 32 0 0 0 60 48l-5.4-3.3c.7-2 1-4.2 1.2-6.2zm-13.5 4a12.5 12.5 0 1 1-22.6-11 12.5 12.5 0 0 1 22.6 11z"/>\n            <animateTransform attributeName="transform" begin="0s" dur="3s" from="0 31 37" repeatCount="indefinite" to="360 31 37" type="rotate"/>\n          </g>\n          <g id="small">\n            <path fill="none" stroke="#F44" d="M93 19.3l6-3c-.4-1.6-1-3.2-1.7-4.8L90.8 13c-.9-1.4-2-2.7-3.4-3.8l2.1-6.3A21.8 21.8 0 0 0 85 .7l-3.6 5.5c-1.7-.4-3.4-.5-5.1-.3l-3-5.9c-1.6.4-3.2 1-4.7 1.7L70 8c-1.5 1-2.8 2-3.9 3.5L60 9.4a20.6 20.6 0 0 0-2.2 4.6l5.5 3.6a15 15 0 0 0-.3 5.1l-5.9 3c.4 1.6 1 3.2 1.7 4.7L65 29c1 1.5 2.1 2.8 3.5 3.9l-2.1 6.3a21 21 0 0 0 4.5 2.2l3.6-5.6c1.7.4 3.5.5 5.2.3l2.9 5.9c1.6-.4 3.2-1 4.8-1.7L86 34c1.4-1 2.7-2.1 3.8-3.5l6.3 2.1a21.5 21.5 0 0 0 2.2-4.5l-5.6-3.6c.4-1.7.5-3.5.3-5.1zM84.5 24a7 7 0 1 1-12.8-6.2 7 7 0 0 1 12.8 6.2z"/>\n            <animateTransform attributeName="transform" begin="0s" dur="2s" from="0 78 21" repeatCount="indefinite" to="-360 78 21" type="rotate"/>\n          </g>\n        </svg>\n        <h3>No Information found on this address. Please close and try again.</h3>\n        ',b.appendChild(y),n.appendChild(b),e.appendChild(n);break;case"print":p=JSON.parse(i[0].getAttribute("data-parcel-id")),e.appendChild(t.resultsStyle),(f=document.createElement("section")).className="results-container",f.appendChild(r),(m=document.createElement("article")).className="dataset-results",(g=document.createElement("article")).className="result-address",g.innerText=p.address,m.appendChild(g),h=t.buildDataSection(t),m.appendChild(h),f.appendChild(m),n.appendChild(f),e.appendChild(n),t.printInfo(t)}}}],[{key:"observedAttributes",get:function(){return["data-display-type"]}}]),n}((0,c.Z)(HTMLElement));function h(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,s.Z)(t);if(e){var r=(0,s.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,o.Z)(this,n)}}var b=n(530),y=n(55),v=function(t){(0,i.Z)(n,t);var e=h(n);function n(){var t;(0,a.Z)(this,n);var r=(t=e.call(this)).attachShadow({mode:"open"}),i=document.createElement("section");return i.id="loader-wrapper",r.appendChild(i),t}return(0,r.Z)(n,[{key:"attributeChangedCallback",value:function(t,e,n){this.shadowRoot;if("data-loader-state"===t)this.clearLoader(this),this.loadLoader(this)}},{key:"getDataSets",value:function(){var t=document.getElementsByTagName("my-home-info"),e=t[0].getAttribute("data-active-sets").split(","),n=JSON.parse(t[0].getAttribute("data-parcel-id")),a=[],r=new Promise((function(t,e){if("CONDO BUILDING"!=n.attributes.parcel_id){var a="https://apis.detroitmi.gov/assessments/parcel/"+n.attributes.parcel_id+"/";return fetch(a).then((function(t){return t.json()})).then((function(e){t({id:"assessors-data",data:e})})).catch((function(t){}))}t({id:"assessors-data",data:null})})),i=new Promise((function(t,e){t({id:"neighborhood",data:n})})),o=new Promise((function(t,e){return t({id:"council",data:n})})),s=new Promise((function(t,e){return fetch("/rest/district-managers?_format=json").then((function(t){return t.json()})).then((function(e){t({id:"district-managers",data:e})})).catch((function(t){}))})),c=new Promise((function(t,e){return fetch("/rest/district-inspectors?_format=json").then((function(t){return t.json()})).then((function(e){t({id:"district-inspectors",data:e})})).catch((function(t){}))})),l=new Promise((function(t,e){return fetch("/rest/council-members?_format=json").then((function(t){return t.json()})).then((function(e){t({id:"council-members",data:e})})).catch((function(t){}))})),u=new Promise((function(t,e){t({id:"DWSDBackupProtection",data:n})})),d=new Promise((function(t,e){var a="https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/NRSA_2020/FeatureServer/0/query?where=&objectIds=&time=&geometry=".concat(n.location.x,"%2C").concat(n.location.y,"&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&returnCentroid=false&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=");return fetch(a).then((function(t){return t.json()})).then((function(e){t({id:"nrsa",data:e})})).catch((function(t){}))})),p=new Promise((function(t,e){var a="https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/NEZHOMESTEAD2021/FeatureServer/0/query?where=&objectIds=&time=&geometry=".concat(n.location.x,"%2C").concat(n.location.y,"&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&returnCentroid=false&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=");return fetch(a).then((function(t){return t.json()})).then((function(e){t({id:"nez",data:e})})).catch((function(t){}))})),f=(new Promise((function(t,e){var a="https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/NEZ_H_Districts/FeatureServer/0/query?where=&objectIds=&time=&geometry=".concat(n.location.x,"%2C").concat(n.location.y,"&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&returnCentroid=false&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=");return fetch(a).then((function(t){return t.json()})).then((function(e){t({id:"nezOld",data:e})})).catch((function(t){}))})),new Promise((function(t,e){var a="https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/BuildingPermits/FeatureServer/0/query?where=parcel_id+%3D+%27".concat(n.attributes.parcel_id,"%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=3&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json");return fetch(a).then((function(t){return t.json()})).then((function(e){t({id:"permit-data",data:e})})).catch((function(t){}))}))),m=new Promise((function(t,e){var a;return a="CONDO BUILDING"!=n.attributes.parcel_id?"https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/RentalStatuses/FeatureServer/0/query?where=parcel_id+%3D+%27".concat(n.attributes.parcel_id,"%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json"):"https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/RentalStatuses/FeatureServer/0/query?where=&objectIds=&time=&geometry=".concat(n.location.x,"%2C+").concat(n.location.y,"&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIndexIntersects&distance=&units=esriSRUnit_Foot&relationParam=&outFields=*&returnGeometry=true&maxAllowableOffset=&geometryPrecision=&outSR=&gdbVersion=&returnDistinctValues=false&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&multipatchOption=&resultOffset=&resultRecordCount=&f=json"),fetch(a).then((function(t){return t.json()})).then((function(e){t({id:"rental-data",data:e})})).catch((function(t){}))})),g=new Promise((function(t,e){var a;return a="CONDO BUILDING"!=n.attributes.parcel_id?"https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/active_cofc/FeatureServer/0/query?where=parcel_id%3D%27".concat(n.attributes.parcel_id,"%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=1&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json"):"https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/active_cofc/FeatureServer/0/query?where=&objectIds=&time=&geometry=".concat(n.location.x,"%2C+").concat(n.location.y,"&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIndexIntersects&distance=&units=esriSRUnit_Foot&relationParam=&outFields=*&returnGeometry=true&maxAllowableOffset=&geometryPrecision=&outSR=&gdbVersion=&returnDistinctValues=false&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&multipatchOption=&resultOffset=&resultRecordCount=&f=json"),fetch(a).then((function(t){return t.json()})).then((function(e){t({id:"rental-cert-data",data:e})})).catch((function(t){}))})),h=new Promise((function(t,e){var a="https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Blight_Violations_(DAH)/FeatureServer/0/query?where=parcelno%3D%27".concat(n.attributes.parcel_id,"%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=violation_date&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=2&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=");return fetch(a).then((function(t){return t.json()})).then((function(e){t({id:"blight-data",data:e})})).catch((function(t){}))})),v=new Promise((function(t,e){var a="https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Property_Sales/FeatureServer/0/query?where=PARCEL_NO%3D%27".concat(n.attributes.parcel_id,"%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=4326&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=SALE_DATE&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=2&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=");return fetch(a).then((function(t){return t.json()})).then((function(e){t({id:"sales-data",data:e})})).catch((function(t){}))})),_=new Promise((function(t,e){var a=new Date,r=("".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate()),"".concat(a.getFullYear(),"-").concat(a.getMonth()+6,"-").concat(a.getDate()),b.point([n.location.x,n.location.y])),i=b.buffer(r,1,{units:"miles"}),o=b.simplify(i.geometry,{tolerance:.005,highQuality:!1}),s=y.convert(o),c="https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Demolitions_under_Contract/FeatureServer/0/query?where=&objectIds=&time=&geometry=".concat(encodeURI(JSON.stringify(s)),"&geometryType=esriGeometryPolygon&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=4326&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=3&f=json");return fetch(c).then((function(t){return t.json()})).then((function(e){t({id:"demos-data",data:e})})).catch((function(t){}))})),S=new Promise((function(t,e){var a="https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Demolitions_under_Contract/FeatureServer/0/query?where=parcel_id+%3D+%27".concat(n.attributes.parcel_id,"%27&objectIds=&time=&geometry=&geometryType=esriGeometryPolygon&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=4326&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=demolish_by_date&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=1&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=");return fetch(a).then((function(t){return t.json()})).then((function(e){t({id:"demo-status",data:e})})).catch((function(t){}))})),k=new Promise((function(t,e){var a=b.point([n.location.x,n.location.y]),r=b.buffer(a,1,{units:"miles"}),i=b.simplify(r.geometry,{tolerance:.005,highQuality:!1}),o=y.convert(i),s="https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/2018_2019_Schools_(EEM)/FeatureServer/0/query?where=&objectIds=&time=&geometry=".concat(encodeURI(JSON.stringify(o)),"&geometryType=esriGeometryPolygon&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=4326&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=json");return fetch(s).then((function(t){return t.json()})).then((function(e){t({id:"schools",data:e})})).catch((function(t){}))})),C=new Promise((function(t,e){var a="https://opengis.detroitmi.gov/opengis/rest/services/PublicSafety/NeighborhoodPoliceOfficers/FeatureServer/0/query?where=&objectIds=&time=&geometry=".concat(n.location.x,"%2C").concat(n.location.y,"&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&resultType=none&distance=1&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&returnCentroid=false&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=4326&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=");return fetch(a).then((function(t){return t.json()})).then((function(e){t({id:"npo",data:e})})).catch((function(t){}))})),E=new Promise((function(t,e){var a=b.point([n.location.x,n.location.y]),r=b.buffer(a,300,{units:"meters"}),i=b.simplify(r.geometry,{tolerance:.005,highQuality:!1}),o=y.convert(i),s="https://opengis.detroitmi.gov/opengis/rest/services/DoIT/ImproveDetroitIssues/FeatureServer/0/query?where=status+%3C%3E+%27Closed%27+and+status+%3C%3E+%27Archived%27&objectIds=&time=&geometry=".concat(encodeURI(JSON.stringify(o)),"&geometryType=esriGeometryPolygon&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=4326&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=3&f=json");return fetch(s).then((function(t){return t.json()})).then((function(e){t({id:"improve-det",data:e})})).catch((function(t){}))})),D=new Promise((function(t,e){var a="https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/WasteCollectionAreas/FeatureServer/0/query?where=&text=&objectIds=&time=&geometry="+n.location.x+"%2C+"+n.location.y+"&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelWithin&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=json";fetch(a).then((function(t){return t.json()})).then((function(e){var n=new Date,a=n.getMonth()+1,r=n.getFullYear(),i="https://apis.detroitmi.gov/waste_schedule/details/".concat(e.features[0].attributes.FID,"/year/").concat(r,"/month/").concat(a,"/");return fetch(i).then((function(t){return t.json()})).then((function(e){t({id:"recycling",data:e})}))})).catch((function(t){}))})),x=new Promise((function(t,e){var a="https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/Detroit_Local_Historic_Districts/FeatureServer/0/query?where=&text=&objectIds=&time=&geometry="+n.location.x+"%2C+"+n.location.y+"&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelWithin&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=json";fetch(a).then((function(t){return t.json()})).then((function(e){t({id:"historicDistrict",data:e})})).catch((function(t){}))})),O=new Promise((function(t,e){var a="https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/fie_properties_final/FeatureServer/0/query?where=parcel_id%3D%27".concat(n.attributes.parcel_id,"%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnHiddenFields=false&returnGeometry=true&returnCentroid=false&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=");return fetch(a).then((function(t){return t.json()})).then((function(e){t({id:"fireEscrow",data:e})})).catch((function(t){}))}));return e.forEach((function(t){switch(t){case"council":a.push(o);break;case"neighborhood":a.push(i);break;case"assessors-data":null!=n.attributes.parcel_id&&""!=n.attributes.parcel_id&&("CONDO BUILDING"==n.attributes.parcel_id||a.push(r));break;case"permit-data":null!=n.attributes.parcel_id&&""!=n.attributes.parcel_id&&a.push(f);break;case"blight-data":null!=n.attributes.parcel_id&&""!=n.attributes.parcel_id&&a.push(h);break;case"salesHistoryData":null!=n.attributes.parcel_id&&""!=n.attributes.parcel_id&&a.push(v);break;case"fireEscrow":null!=n.attributes.parcel_id&&""!=n.attributes.parcel_id&&a.push(O);break;case"nez":a.push(p);break;case"nrsa":a.push(d);break;case"demos-data":a.push(_);break;case"npo":a.push(C);break;case"improve-det":a.push(E);break;case"recycling":a.push(D);break;case"rental-data":null!=n.attributes.parcel_id&&""!=n.attributes.parcel_id&&a.push(m);break;case"rental-cert":a.push(g);break;case"demo-status":null!=n.attributes.parcel_id&&""!=n.attributes.parcel_id&&a.push(S);break;case"schools":a.push(k);break;case"historicDistrict":a.push(x);break;case"district-managers":a.push(s);break;case"district-inspectors":a.push(c);break;case"council-members":a.push(l);break;case"DWSDBackupProtection":a.push(u)}})),a}},{key:"buildCouncilData",value:function(t){var e={council:{district:"District ".concat(t.council.data.attributes.council_district),districtURL:null,name:null,url:null,phone:null},dmanager:{name:null,url:"/departments/department-of-neighborhoods/district-".concat(t.council.data.attributes.council_district,"#block-views-block-contacts-special-block-1"),phone:null},ddmanager:{name:null,url:"/departments/department-of-neighborhoods/district-".concat(t.council.data.attributes.council_district,"#block-views-block-contacts-special-block-1"),phone:null},bliaision:{name:null,email:null},enforcement:{name:null,phone:null}};switch(t.council.data.attributes.council_district){case"1":e.council.districtURL="/taxonomy/term/1276",t["council-members"].data.forEach((function(t){"1276"==t.tid&&(e.council.name=t.field_organization_head_name,e.council.url="/taxonomy/term/1276",e.council.phone=t.field_phone)})),t["district-managers"].data.forEach((function(t){t.field_contact_position.includes("District 1 Manager")&&(e.dmanager.name=t.title,e.dmanager.phone=t.field_telephone),t.field_contact_position.includes("District 1 Deputy Manager")&&(e.ddmanager.name=t.title,e.ddmanager.phone=t.field_telephone),t.field_contact_position.includes("District 1 Business Liaison")&&(e.bliaision.name=t.title,e.bliaision.email=t.field_email_address)})),t["district-inspectors"].data.forEach((function(t){t.field_responsibilities.includes("District 1")&&(e.enforcement.name=t.title,e.enforcement.phone=t.field_telephone)}));break;case"2":e.council.districtURL="/taxonomy/term/1476",t["council-members"].data.forEach((function(t){"1476"==t.tid&&(e.council.name=t.field_organization_head_name,e.council.url="/taxonomy/term/1476",e.council.phone=t.field_phone)})),t["district-managers"].data.forEach((function(t){t.field_contact_position.includes("District 2 Manager")&&(e.dmanager.name=t.title,e.dmanager.phone=t.field_telephone),t.field_contact_position.includes("District 2 Deputy Manager")&&(e.ddmanager.name=t.title,e.ddmanager.phone=t.field_telephone),t.field_contact_position.includes("District 2 Business Liaison")&&(e.bliaision.name=t.title,e.bliaision.email=t.field_email_address)})),t["district-inspectors"].data.forEach((function(t){t.field_responsibilities.includes("District 2")&&(e.enforcement.name=t.title,e.enforcement.phone=t.field_telephone)}));break;case"3":e.council.districtURL="/taxonomy/term/1481",t["council-members"].data.forEach((function(t){"1481"==t.tid&&(e.council.name=t.field_organization_head_name,e.council.url="/taxonomy/term/1481",e.council.phone=t.field_phone)})),t["district-managers"].data.forEach((function(t){t.field_contact_position.includes("District 3 Manager")&&(e.dmanager.name=t.title,e.dmanager.phone=t.field_telephone),t.field_contact_position.includes("District 3 Deputy Manager")&&(e.ddmanager.name=t.title,e.ddmanager.phone=t.field_telephone),t.field_contact_position.includes("District 3 Business Liaison")&&(e.bliaision.name=t.title,e.bliaision.email=t.field_email_address)})),t["district-inspectors"].data.forEach((function(t){t.field_responsibilities.includes("District 3")&&(e.enforcement.name=t.title,e.enforcement.phone=t.field_telephone)}));break;case"4":e.council.districtURL="/taxonomy/term/1486",t["council-members"].data.forEach((function(t){"1486"==t.tid&&(e.council.name=t.field_organization_head_name,e.council.url="/taxonomy/term/1486",e.council.phone=t.field_phone)})),t["district-managers"].data.forEach((function(t){t.field_contact_position.includes("District 4 Manager")&&(e.dmanager.name=t.title,e.dmanager.phone=t.field_telephone),t.field_contact_position.includes("District 4 Deputy Manager")&&(e.ddmanager.name=t.title,e.ddmanager.phone=t.field_telephone),t.field_contact_position.includes("District 4 Business Liaison")&&(e.bliaision.name=t.title,e.bliaision.email=t.field_email_address)})),t["district-inspectors"].data.forEach((function(t){t.field_responsibilities.includes("District 4")&&(e.enforcement.name=t.title,e.enforcement.phone=t.field_telephone)}));break;case"5":e.council.districtURL="/taxonomy/term/1346",t["council-members"].data.forEach((function(t){"1346"==t.tid&&(e.council.name=t.field_organization_head_name,e.council.url="/taxonomy/term/1346",e.council.phone=t.field_phone)})),t["district-managers"].data.forEach((function(t){t.field_contact_position.includes("District 5 Manager")&&(e.dmanager.name=t.title,e.dmanager.phone=t.field_telephone),t.field_contact_position.includes("District 5 Deputy Manager")&&(e.ddmanager.name=t.title,e.ddmanager.phone=t.field_telephone),t.field_contact_position.includes("District 5 Business Liaison")&&(e.bliaision.name=t.title,e.bliaision.email=t.field_email_address)})),t["district-inspectors"].data.forEach((function(t){t.field_responsibilities.includes("District 5")&&(e.enforcement.name=t.title,e.enforcement.phone=t.field_telephone)}));break;case"6":e.council.districtURL="/taxonomy/term/1491",t["council-members"].data.forEach((function(t){if("1491"==t.tid){var n=t.field_phone.replace("Office: ","");n=(n=n.replace(/ /g,"-")).replace(/[()]/g,""),e.council.name=t.field_organization_head_name,e.council.url="/taxonomy/term/1491",e.council.phone='<a href="tel:'.concat(n,'">').concat(t.field_phone,"</a>")}})),t["district-managers"].data.forEach((function(t){if(t.field_contact_position.includes("District 6 Manager")){var n=t.field_telephone.replace(/ /g,"-");n=n.replace(/[()]/g,""),e.dmanager.name=t.title,e.dmanager.phone='<a href="tel:'.concat(n,'">').concat(t.field_telephone,"</a>")}if(t.field_contact_position.includes("District 6 Deputy Manager")){var a=t.field_telephone.replace(/ /g,"-");a=a.replace(/[()]/g,""),e.ddmanager.name=t.title,e.ddmanager.phone='<a href="tel:'.concat(a,'">').concat(t.field_telephone,"</a>")}t.field_contact_position.includes("District 6 Business Liaison")&&(e.bliaision.name=t.title,e.bliaision.email=t.field_email_address)})),t["district-inspectors"].data.forEach((function(t){if(t.field_responsibilities.includes("District 6")){var n=t.field_telephone.replace(/ /g,"-");n=n.replace(/[()]/g,""),e.enforcement.name=t.title,e.enforcement.phone='<a href="tel:'.concat(n,'">').concat(t.field_telephone,"</a>")}}));break;case"7":e.council.districtURL="/taxonomy/term/1511",t["council-members"].data.forEach((function(t){"1511"==t.tid&&(e.council.name=t.field_organization_head_name,e.council.url="/taxonomy/term/1511",e.council.phone=t.field_phone)})),t["district-managers"].data.forEach((function(t){t.field_contact_position.includes("District 7 Manager")&&(e.dmanager.name=t.title,e.dmanager.phone=t.field_telephone),t.field_contact_position.includes("District 7 Deputy Manager")&&(e.ddmanager.name=t.title,e.ddmanager.phone=t.field_telephone),t.field_contact_position.includes("District 7 Business Liaison")&&(e.bliaision.name=t.title,e.bliaision.email=t.field_email_address)})),t["district-inspectors"].data.forEach((function(t){t.field_responsibilities.includes("District 7")&&(e.enforcement.name=t.title,e.enforcement.phone=t.field_telephone)}))}return e}},{key:"getData",value:function(t){var e=document.getElementsByTagName("my-home-info"),n=e[0].getAttribute("data-active-sets").split(","),a=(JSON.parse(e[0].getAttribute("data-parcel-id")),JSON.parse(e[0].getAttribute("data-api-stored-datasets"))),r=!1;for(var i in a)n.includes(i)&&(r=!0);if(r){var o={};n.forEach((function(t){o[t]=a[t]})),e[0].setAttribute("data-api-active-datasets",JSON.stringify(o)),e[0].setAttribute("data-app-state","results")}else{var s=t.getDataSets();Promise.all(s).then((function(a){var r={};for(var i in a)null!=a[i]?r[a[i].id]=a[i]:initialLoadChecker=!1;if(n.includes("council")){var o=t.buildCouncilData(r);r["council-members"]={id:"council-members",data:o.council};var s={manager:o.dmanager,deputy:o.ddmanager};r["district-managers"]={id:"district-managers",data:s},r["business-liaison"]={id:"business-liaison",data:o.bliaision},r["district-inspectors"]={id:"district-inspectors",data:o.enforcement}}if(n.includes("DWSDBackupProtection"))try{r.DWSDBackupProtection||(r.DWSDBackupProtection={id:"DWSDBackupProtection",data:r.neighborhood.data})}catch(c){}e[0].setAttribute("data-api-active-datasets",JSON.stringify(r)),e[0].setAttribute("data-app-state","results")})).catch((function(t){}))}}},{key:"clearLoader",value:function(t){for(var e=t.shadowRoot;e.firstChild;)e.removeChild(e.firstChild)}},{key:"loadLoader",value:function(t){var e=t.shadowRoot,n=document.createElement("section");switch(n.id="loader-wrapper",t.getAttribute("data-loader-state")){case"active":t.getData(t);var a=document.createElement("p");a.innerText="Loading DATA",n.appendChild(a),e.appendChild(n);break;case"finished":var r=document.createElement("p");r.innerText="Data loaded",n.appendChild(r),e.appendChild(n)}}}],[{key:"observedAttributes",get:function(){return["data-loader-state","data-parcel-id"]}}]),n}((0,c.Z)(HTMLElement));function _(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,s.Z)(t);if(e){var r=(0,s.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,o.Z)(this,n)}}customElements.define("app-display",g),customElements.define("app-data-loader",v);var S=function(t){(0,i.Z)(n,t);var e=_(n);function n(){var t;(0,a.Z)(this,n);var r=(t=e.call(this)).attachShadow({mode:"open"}),i=document.getElementsByTagName("my-home-info")[0].getAttribute("data-app-state"),o=document.createElement("section");o.id="app-wrapper";var s=document.createElement("app-display");return"active-screen"==i?s.setAttribute("data-display-type","active"):s.setAttribute("data-display-type","welcome"),o.appendChild(s),r.appendChild(o),t}return(0,r.Z)(n,[{key:"attributeChangedCallback",value:function(t,e,n){this.shadowRoot;var a=document.getElementsByTagName("my-home-info")[0].getAttribute("data-app-mode");switch(t){case"data-app-state":null!=e&&(this.clearApp(this),this.loadApp(this));break;case"data-parcel-id":"none"!=n?this.setAttribute("data-app-state","loading-screen"):"my-home-info"==a&&this.setAttribute("data-app-state","welcome-screen")}}},{key:"clearApp",value:function(t){for(var e=t.shadowRoot;e.firstChild;)e.removeChild(e.firstChild)}},{key:"loadApp",value:function(t){var e=t.shadowRoot,n=document.createElement("section");n.id="app-wrapper";var a=document.createElement("app-display"),r=document.createElement("app-data-loader");switch(t.getAttribute("data-app-state")){case"welcome-screen":a.setAttribute("data-display-type","welcome"),n.appendChild(a);break;case"active-screen":a.setAttribute("data-display-type","active"),n.appendChild(a);break;case"loading-screen":a.setAttribute("data-display-type","loading"),r.setAttribute("data-loader-state","active"),n.appendChild(a);break;case"results":a.setAttribute("data-display-type","results"),n.appendChild(a);break;case"error":a.setAttribute("data-display-type","error"),n.appendChild(a);break;case"print":a.setAttribute("data-display-type","print"),n.appendChild(a)}null==e.firstChild&&e.appendChild(n)}}],[{key:"observedAttributes",get:function(){return["data-app-state","data-parcel-id"]}}]),n}((0,c.Z)(HTMLElement));customElements.define("my-home-info",S)}},function(t){t.O(0,[578,47,600,489],(function(){return e=789,t(t.s=e);var e}));t.O()}]);